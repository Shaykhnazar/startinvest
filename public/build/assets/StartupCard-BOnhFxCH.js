import{j as w,Q as J,o as d,f as c,b as e,a as _,w as R,d as k,u as f,i as S,F as C,p as E,t as h,g as T}from"./app-BVEWpKNB.js";import{u as j,J as b}from"./UserStore-B5SiQ4Uz.js";import{a as x}from"./api-CkdGCLvF.js";import{u as N}from"./helpers--8ZkwWuN.js";function V(a){const{success:n,info:l,warning:g}=N(),o=j(),r=(t,s)=>{window.confirm(s)&&t()},u=t=>{q()&&(o.hasPendingJoinRequest(t)?r(()=>p(t),"So'rovni bekor qilmoqchimisiz?"):o.isContributor(t)?r(()=>v(t),"Jamoani tark etmoqchimisiz?"):r(()=>i(t),"Jamoaga qo'shilish uchun so'rov yuborishni xohlaysizmi?"))},i=async t=>{try{await x.startups.sendRequest(t,{status:b.PENDING.value}),n("Jamoaga qo'shilish so'rovi muvaffaqiyatli yuborildi!"),m()}catch(s){console.error("Jamoaga qo'shilish so'rovini yuborishda xato:",s),l("Jamoaga qo'shilish so'rovini yuborishda xatolik")}},p=async t=>{try{const s=o.getJoinRequest(t);await x.startups.handleJoinRequest(t,{requestId:s==null?void 0:s.id,fromStatus:s==null?void 0:s.status,toStatus:b.CANCELED.value}),g("Jamoaga qo'shilish so'rovi bekor qilindi!"),m()}catch(s){console.error("Error cancel joining:",s)}},v=async t=>{try{await x.startups.sendRequest(t,{status:b.LEAVED.value}),n("Jamoani tark etish so'rovi jo'natildi!"),m()}catch(s){console.error("Error leaving team:",s)}},m=()=>{o.updateUserJoinRequests(J().props.auth.user.data.joinRequests)},y=w(()=>{const t=o.hasPendingJoinRequest(a.id),s=o.isContributor(a.id);return o.isGuest?"Jamoaga qo'shilish":t?"So'rovni bekor qilish ❌":s?"Jamoani tark etish":"Jamoaga qo'shilish"});function q(){return o.isGuest?(l("Iltimos, so'rov yuborish uchun tizimga kiring"),!1):!0}return{handleJoinRequest:u,sendJoinRequest:i,cancelJoining:p,leaveTeam:v,buttonText:y}}const D={class:"p-4 relative flex flex-col bg-white border border-gray-200 rounded-xl dark:bg-neutral-800 dark:border-neutral-700"},P={class:"grid lg:grid-cols-12 gap-y-2 lg:gap-y-0 gap-x-4"},z={class:"lg:col-span-3"},A=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-view"},[e("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"}),e("path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2"}),e("circle",{cx:"12",cy:"12",r:"1"}),e("path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0"})],-1),B={class:"mt-1 lg:mt-2 -mx-0.5 sm:-mx-1"},M={class:"lg:col-span-6"},U={class:"mt-1 text-md text-dark-500 dark:text-neutral-200"},G={class:"mt-2 flex items-center gap-x-3"},H={class:"text-xs text-gray-500 dark:text-neutral-400"},L={class:"lowercase"},F={class:"lg:col-span-3"},O={class:"flex lg:flex-col justify-end items-center gap-2 border-t border-gray-200 lg:border-t-0 pt-3 lg:pt-0 dark:border-neutral-700"},Q={key:0,class:"lg:order-2 lg:ms-auto"},Y={__name:"StartupCard",props:{startup:Object},setup(a){const n=a,{handleJoinRequest:l,buttonText:g}=V(n.startup);return(o,r)=>{var u;return d(),c("div",D,[e("div",P,[e("div",z,[e("p",null,[_(f(S),{href:o.route("startups.show",a.startup.id),class:"inline-flex items-center gap-x-1 text-gray-800 decoration-2 hover:underline font-medium hover:text-blue-600 focus:outline-none focus:underline focus:text-blue-600 dark:text-neutral-200 dark:hover:text-blue-500 dark:focus:outline-none dark:focus:text-blue-500"},{default:R(()=>[A,k(" Tanishish ")]),_:1},8,["href"])]),e("div",B,[(d(!0),c(C,null,E(a.startup.industries,i=>(d(),c("span",{key:i.id,class:"m-0.5 sm:m-1 p-1.5 sm:p-2 inline-block bg-gray-100 text-gray-800 text-xs rounded-md dark:bg-neutral-700 dark:text-neutral-200"},h(i.title),1))),128))])]),e("div",M,[e("p",U,h(a.startup.title),1),e("div",G,[e("h4",H,[k(" Holati: "),e("span",L,h(a.startup.status.label),1)])])]),e("div",F,[e("div",O,[((u=o.user)==null?void 0:u.id)!==a.startup.owner.id?(d(),c("div",Q,[e("button",{type:"button",onClick:r[0]||(r[0]=i=>f(l)(a.startup.id)),class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700","data-hs-overlay":"#hs-pro-dtlam"},h(f(g)),1)])):T("",!0)])])])])}}};export{Y as _,V as u};
