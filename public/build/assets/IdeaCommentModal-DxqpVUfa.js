import{e as se,u as ie,f as pe,h as ue,g as Ae,j as ze,r as Oe,b as de,k as Z,l as Ve,E as ve,_ as ge,C as He,m as Ne,n as Re,o as ce,w as je}from"./base-Btcl8sF0.js";import{u as Ue,E as re}from"./el-button-BvCVrXsp.js";import{E as ye,a as be}from"./el-form-item-BfVM8h3n.js";import{g as Ye,U as _e,E as Ce}from"./el-input-DfWmMHto.js";import{V as qe,s as he,W as Xe,D as We,X as Ke,h as V,q as J,Y as Ge,$ as ne,I as U,a as o,r as T,a0 as Ze,O as me,o as _,f as H,b as w,n as O,u as n,t as $,w as t,c as x,a1 as Je,g as q,N as we,p as I,z as Qe,H as et,C as tt,E as ot,i as ke,a2 as lt,a3 as Ee,K as Ie,L as nt,a4 as at,P as G,d as B,e as xe,_ as Q,k as st,a5 as it,m as X,a6 as dt,S as rt,U as ut,a7 as ct,l as mt}from"./app-DE6tg4Kr.js";import{E as $e}from"./el-divider-C9FIsz0h.js";import{_ as Y,a as ee,b as Me,c as ft}from"./useInfiniteScroll-CC5E2Mup.js";import{b as pt,c as fe,E as te,a as oe}from"./el-col-re1EElUA.js";import{E as vt}from"./el-popconfirm-BOduwcxa.js";import{F as gt,i as yt,E as bt,a as _t}from"./el-popper-D7ySv2Uu.js";/* empty css                   */import{P as ae,E as Ct}from"./App.vue_vue_type_style_index_0_scoped_7af6d541_lang-DIw1M5_6.js";import{u as le}from"./UserStore-0oXKuHsj.js";import{a as ht}from"./api-BTqalxhW.js";import{E as wt}from"./helpers-CeDb5mvq.js";import{u as kt}from"./index-CSq3pD5u.js";import{t as Et}from"./error-Cq9Fpw4b.js";import{u as It}from"./use-form-item-DpzDdpKj.js";const xt=(...e)=>l=>{e.forEach(c=>{qe(c)?c(l):c.value=l})},$t=(e,l,c,u)=>{let i={offsetX:0,offsetY:0};const d=a=>{const y=a.clientX,r=a.clientY,{offsetX:f,offsetY:v}=i,C=e.value.getBoundingClientRect(),p=C.left,k=C.top,h=C.width,M=C.height,L=document.documentElement.clientWidth,b=document.documentElement.clientHeight,N=-p+f,z=-k+v,P=L-p-h+f,A=b-k-M+v,E=g=>{let S=f+g.clientX-y,F=v+g.clientY-r;u!=null&&u.value||(S=Math.min(Math.max(S,N),P),F=Math.min(Math.max(F,z),A)),i={offsetX:S,offsetY:F},e.value&&(e.value.style.transform=`translate(${se(S)}, ${se(F)})`)},R=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",R)},m=()=>{l.value&&e.value&&l.value.addEventListener("mousedown",d)},s=()=>{l.value&&e.value&&l.value.removeEventListener("mousedown",d)};he(()=>{Xe(()=>{c.value?m():s()})}),We(()=>{s()})},Mt=(e,l={})=>{Ke(e)||Et("[useLockscreen]","You need to pass a ref param to this function");const c=l.ns||ie("popup"),u=V(()=>c.bm("parent","hidden"));if(!pe||ue(document.body,u.value))return;let i=0,d=!1,m="0";const s=()=>{setTimeout(()=>{Oe(document==null?void 0:document.body,u.value),d&&document&&(document.body.style.width=m)},200)};J(e,a=>{if(!a){s();return}d=!ue(document.body,u.value),d&&(m=document.body.style.width),i=Ye(c.namespace.value);const y=document.documentElement.clientHeight<document.body.scrollHeight,r=Ae(document.body,"overflowY");i>0&&(y||r==="scroll")&&d&&(document.body.style.width=`calc(100% - ${i}px)`),ze(document.body,u.value)}),Ge(()=>s())},Se=e=>{if(!e)return{onClick:ne,onMousedown:ne,onMouseup:ne};let l=!1,c=!1;return{onClick:m=>{l&&c&&e(m),l=c=!1},onMousedown:m=>{l=m.target===m.currentTarget},onMouseup:m=>{c=m.target===m.currentTarget}}},St=de({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Z([String,Array,Object])},zIndex:{type:Z([String,Number])}}),Ft={click:e=>e instanceof MouseEvent},Dt="overlay";var Tt=U({name:"ElOverlay",props:St,emits:Ft,setup(e,{slots:l,emit:c}){const u=ie(Dt),i=a=>{c("click",a)},{onClick:d,onMousedown:m,onMouseup:s}=Se(e.customMaskEvent?void 0:i);return()=>e.mask?o("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:m,onMouseup:s},[T(l,"default")],ae.STYLE|ae.CLASS|ae.PROPS,["onClick","onMouseup","onMousedown"]):Ze("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[T(l,"default")])}});const Bt=Tt,Fe=Symbol("dialogInjectionKey"),De=de({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ve},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Lt={close:()=>!0},Pt=["aria-level"],At=["aria-label"],zt=["id"],Ot=U({name:"ElDialogContent"}),Vt=U({...Ot,props:De,emits:Lt,setup(e){const l=e,{t:c}=kt(),{Close:u}=He,{dialogRef:i,headerRef:d,bodyId:m,ns:s,style:a}=me(Fe),{focusTrapRef:y}=me(gt),r=V(()=>[s.b(),s.is("fullscreen",l.fullscreen),s.is("draggable",l.draggable),s.is("align-center",l.alignCenter),{[s.m("center")]:l.center}]),f=xt(y,i),v=V(()=>l.draggable),C=V(()=>l.overflow);return $t(i,d,v,C),(p,k)=>(_(),H("div",{ref:n(f),class:O(n(r)),style:we(n(a)),tabindex:"-1"},[w("header",{ref_key:"headerRef",ref:d,class:O([n(s).e("header"),{"show-close":p.showClose}])},[T(p.$slots,"header",{},()=>[w("span",{role:"heading","aria-level":p.ariaLevel,class:O(n(s).e("title"))},$(p.title),11,Pt)]),p.showClose?(_(),H("button",{key:0,"aria-label":n(c)("el.dialog.close"),class:O(n(s).e("headerbtn")),type:"button",onClick:k[0]||(k[0]=h=>p.$emit("close"))},[o(n(ve),{class:O(n(s).e("close"))},{default:t(()=>[(_(),x(Je(p.closeIcon||n(u))))]),_:1},8,["class"])],10,At)):q("v-if",!0)],2),w("div",{id:n(m),class:O(n(s).e("body"))},[T(p.$slots,"default")],10,zt),p.$slots.footer?(_(),H("footer",{key:0,class:O(n(s).e("footer"))},[T(p.$slots,"footer")],2)):q("v-if",!0)],6))}});var Ht=ge(Vt,[["__file","dialog-content.vue"]]);const Nt=de({...De,appendToBody:Boolean,appendTo:{type:Z(String),default:"body"},beforeClose:{type:Z(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Rt={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_e]:e=>Ne(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},jt=(e,l)=>{var c;const i=et().emit,{nextZIndex:d}=pt();let m="";const s=fe(),a=fe(),y=I(!1),r=I(!1),f=I(!1),v=I((c=e.zIndex)!=null?c:d());let C,p;const k=Ue("namespace",Re),h=V(()=>{const D={},j=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(D[`${j}-margin-top`]=e.top),e.width&&(D[`${j}-width`]=se(e.width))),D}),M=V(()=>e.alignCenter?{display:"flex"}:{});function L(){i("opened")}function b(){i("closed"),i(_e,!1),e.destroyOnClose&&(f.value=!1)}function N(){i("close")}function z(){p==null||p(),C==null||C(),e.openDelay&&e.openDelay>0?{stop:C}=ce(()=>R(),e.openDelay):R()}function P(){C==null||C(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=ce(()=>g(),e.closeDelay):g()}function A(){function D(j){j||(r.value=!0,y.value=!1)}e.beforeClose?e.beforeClose(D):P()}function E(){e.closeOnClickModal&&A()}function R(){pe&&(y.value=!0)}function g(){y.value=!1}function S(){i("openAutoFocus")}function F(){i("closeAutoFocus")}function Le(D){var j;((j=D.detail)==null?void 0:j.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&Mt(y);function Pe(){e.closeOnPressEscape&&A()}return J(()=>e.modelValue,D=>{D?(r.value=!1,z(),f.value=!0,v.value=yt(e.zIndex)?d():v.value++,Qe(()=>{i("open"),l.value&&(l.value.scrollTop=0)})):y.value&&P()}),J(()=>e.fullscreen,D=>{l.value&&(D?(m=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=m)}),he(()=>{e.modelValue&&(y.value=!0,f.value=!0,z())}),{afterEnter:L,afterLeave:b,beforeLeave:N,handleClose:A,onModalClick:E,close:P,doClose:g,onOpenAutoFocus:S,onCloseAutoFocus:F,onCloseRequested:Pe,onFocusoutPrevented:Le,titleId:s,bodyId:a,closed:r,style:h,overlayDialogStyle:M,rendered:f,visible:y,zIndex:v}},Ut=["aria-label","aria-labelledby","aria-describedby"],Yt=U({name:"ElDialog",inheritAttrs:!1}),qt=U({...Yt,props:Nt,emits:Rt,setup(e,{expose:l}){const c=e,u=tt();It({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},V(()=>!!u.title));const i=ie("dialog"),d=I(),m=I(),s=I(),{visible:a,titleId:y,bodyId:r,style:f,overlayDialogStyle:v,rendered:C,zIndex:p,afterEnter:k,afterLeave:h,beforeLeave:M,handleClose:L,onModalClick:b,onOpenAutoFocus:N,onCloseAutoFocus:z,onCloseRequested:P,onFocusoutPrevented:A}=jt(c,d);ot(Fe,{dialogRef:d,headerRef:m,bodyId:r,ns:i,rendered:C,style:f});const E=Se(b),R=V(()=>c.draggable&&!c.fullscreen);return l({visible:a,dialogContentRef:s}),(g,S)=>(_(),x(at,{to:g.appendTo,disabled:g.appendTo!=="body"?!1:!g.appendToBody},[o(nt,{name:"dialog-fade",onAfterEnter:n(k),onAfterLeave:n(h),onBeforeLeave:n(M),persisted:""},{default:t(()=>[ke(o(n(Bt),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":n(p)},{default:t(()=>[w("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:n(y),"aria-describedby":n(r),class:O(`${n(i).namespace.value}-overlay-dialog`),style:we(n(v)),onClick:S[0]||(S[0]=(...F)=>n(E).onClick&&n(E).onClick(...F)),onMousedown:S[1]||(S[1]=(...F)=>n(E).onMousedown&&n(E).onMousedown(...F)),onMouseup:S[2]||(S[2]=(...F)=>n(E).onMouseup&&n(E).onMouseup(...F))},[o(n(bt),{loop:"",trapped:n(a),"focus-start-el":"container",onFocusAfterTrapped:n(N),onFocusAfterReleased:n(z),onFocusoutPrevented:n(A),onReleaseRequested:n(P)},{default:t(()=>[n(C)?(_(),x(Ht,lt({key:0,ref_key:"dialogContentRef",ref:s},g.$attrs,{center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:n(R),overflow:g.overflow,fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:n(L)}),Ee({header:t(()=>[g.$slots.title?T(g.$slots,"title",{key:1}):T(g.$slots,"header",{key:0,close:n(L),titleId:n(y),titleClass:n(i).e("title")})]),default:t(()=>[T(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:t(()=>[T(g.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ut)]),_:3},8,["mask","overlay-class","z-index"]),[[Ie,n(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Xt=ge(qt,[["__file","dialog.vue"]]);const Te=je(Xt);function Be(){const e=G({id:null,title:"",description:""}),l=G({body:"",parent_id:null,idea:null}),c=G({title:[{required:!0,message:"Please input title",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}],description:[{required:!1,message:"Please input description",trigger:"blur"}]}),u=I(!1),i=I(!1),d=I(!1);return{ideaForm:e,ideaCommentForm:l,rules:c,ideaModalVisible:u,ideaEditModalVisible:i,ideaCommentModalVisible:d,showIdeaModal:(f=!0)=>{e.id=null,e.title="",e.description="",u.value=f},showIdeaEditModal:(f=!0,v=null)=>{v&&(e.id=v.id,e.title=v.title,e.description=v.description),i.value=f},showIdeaCommentModal:(f=!0,v=null,C=null)=>{l.idea=v??null,l.parent_id=C??null,l.body="",d.value=f},cancelEvent:()=>{console.log("cancel!")},resetForm:f=>{f&&f.resetFields()}}}const Wt={class:"dialog-footer"},$o=U({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:l}){const{rules:c}=Be(),u=I(!0),i=I(),d=l,m=()=>{d("close")},a=I(e.ideaForm);return(y,r)=>{const f=Ce,v=ye,C=be,p=re,k=Te;return _(),x(k,{modelValue:u.value,"onUpdate:modelValue":r[5]||(r[5]=h=>u.value=h),title:e.title,onClose:m,style:{"border-radius":"5px"}},{footer:t(()=>[w("span",Wt,[o(p,{onClick:r[3]||(r[3]=h=>y.$emit("reset",i.value)),round:""},{default:t(()=>[B("Reset")]),_:1}),o(p,{type:"primary",onClick:r[4]||(r[4]=h=>y.$emit("submit",i.value,a.value)),round:"",disabled:!a.value.title||e.submitting},{default:t(()=>[B($(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:t(()=>[o(C,{ref_key:"formRefComputed",ref:i,model:a.value,rules:n(c),"status-icon":"",onSubmit:r[2]||(r[2]=xe(()=>{},["prevent"]))},{default:t(()=>[o(v,{label:"Title",prop:"title",required:""},{default:t(()=>[o(f,{modelValue:a.value.title,"onUpdate:modelValue":r[0]||(r[0]=h=>a.value.title=h),autocomplete:"off",placeholder:"Idea short title",clearable:""},null,8,["modelValue"])]),_:1}),o(v,{label:"Description (optional)",prop:"description"},{default:t(()=>[o(f,{modelValue:a.value.description,"onUpdate:modelValue":r[1]||(r[1]=h=>a.value.description=h),rows:2,type:"textarea",placeholder:"Describe your idea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),K={__name:"Tooltip",props:["placement","content"],setup(e){return(l,c)=>{const u=_t;return _(),x(u,{class:"box-item",effect:"dark",content:e.content,placement:e.placement},{default:t(()=>[T(l.$slots,"default")]),_:3},8,["content","placement"])}}},W=e=>(rt("data-v-a369c1c1"),e=e(),ut(),e),Kt=W(()=>w("hr",null,null,-1)),Gt=W(()=>w("li",{class:"icon-pointer",style:{color:"#ff1100"}},"Delete",-1)),Zt=W(()=>w("hr",null,null,-1)),Jt=W(()=>w("li",{class:"icon-pointer",style:{color:"#e72121"}},"Report",-1)),Qt=W(()=>w("span",null,"...",-1)),eo={class:"idea-desc"},to={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","deleteIdeaHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler"],setup(e){const l=le(),{cancelEvent:c}=Be(),u=I(!1),i=I(!1),d=I(""),m=async s=>{if(!u.value&&!d.value){i.value=!0;try{const a=await ht.ideas.show(s.id);d.value=a.data.description}catch(a){console.error("Failed to fetch idea description:",a)}finally{i.value=!1}}u.value=!u.value};return(s,a)=>{const y=ee,r=Me,f=te,v=ve,C=vt,p=oe,k=Ct,h=st("icon-svg"),M=wt,L=$e;return _(),H(X,null,[o(p,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(Y,null,{reference:t(()=>[o(y,{size:20,src:n(l).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var b;return[w("p",null,$((b=e.idea.author)==null?void 0:b.name),1)]}),_:1}),o(r,{size:"small",class:"icon-pointer"},{default:t(()=>[o(Y,null,{reference:t(()=>{var b;return[w("span",null,$((b=e.idea.author)==null?void 0:b.name),1)]}),default:t(()=>{var b;return[w("div",null,[w("p",null,$((b=e.idea.author)==null?void 0:b.name),1)])]}),_:1})]),_:1})]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(r,{size:"small"},{default:t(()=>[B($(e.idea.created_at),1)]),_:1}),o(Y,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:t(()=>[o(v,{size:"20",class:"icon-pointer ml-1"},{default:t(()=>[o(n(it))]),_:1})]),default:t(()=>[w("ul",null,[n(l).isAuthorOfIdea(e.idea)?(_(),H(X,{key:0},[w("li",{class:"icon-pointer",onClick:a[0]||(a[0]=b=>s.$emit("showEditModalHandler",!0,e.idea))},"Edit"),Kt,o(C,{"confirm-button-text":"Yes","cancel-button-text":"No","icon-color":"#626AEF",title:"Are you sure to delete this?",onConfirm:a[1]||(a[1]=b=>s.$emit("deleteIdeaHandler",e.idea.id)),onCancel:n(c)},{reference:t(()=>[Gt]),_:1},8,["onCancel"]),Zt],64)):q("",!0),Jt])]),_:1})]),_:1})]),_:1}),o(p,{justify:"center",align:"middle",gutter:12,class:"flex-col"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12,class:"idea-title",onClick:a[2]||(a[2]=b=>m(e.idea))},{default:t(()=>[o(r,null,{default:t(()=>[B($(e.idea.title)+" ",1),Qt]),_:1})]),_:1}),o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(k,null,{default:t(()=>[ke(w("div",eo,[i.value?(_(),x(r,{key:0},{default:t(()=>[B("Loading...")]),_:1})):(_(),x(r,{key:1},{default:t(()=>[B($(d.value),1)]),_:1}))],512),[[Ie,u.value]])]),_:1})]),_:1})]),_:1}),o(p,{justify:"center",align:"middle",gutter:12,class:"mt-5"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(M,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item",type:"success"},{default:t(()=>[o(K,{content:n(l).hasUpvotedIdea(e.idea)?"Liked":"Like",placement:"top"},{default:t(()=>[o(v,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:a[3]||(a[3]=b=>s.$emit("voteUpHandler",e.idea))},{default:t(()=>[n(l).hasUpvotedIdea(e.idea)?(_(),x(h,{key:0,name:"like-solid"})):(_(),x(h,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),o(M,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item"},{default:t(()=>[o(K,{content:n(l).hasDownvotedIdea(e.idea)?"Disliked":"Dislike",placement:"top"},{default:t(()=>[o(v,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2",onClick:a[4]||(a[4]=b=>s.$emit("voteDownHandler",e.idea))},{default:t(()=>[n(l).hasDownvotedIdea(e.idea)?(_(),x(h,{key:0,name:"dislike-solid"})):(_(),x(h,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(M,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"item",type:"info"},{default:t(()=>[o(K,{content:"Comment",placement:"top"},{default:t(()=>[o(v,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:a[5]||(a[5]=b=>s.$emit("showCommentModalHandler",!0,e.idea))},{default:t(()=>[o(n(dt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),o(K,{content:n(l).hasFavoritedIdea(e.idea)?"Saved":"Save",placement:"top"},{default:t(()=>[o(v,{size:"20",class:"icon-pointer mt-0.5 ml-2",onClick:a[6]||(a[6]=b=>s.$emit("favoriteIdeaHandler",e.idea))},{default:t(()=>[n(l).hasFavoritedIdea(e.idea)?(_(),x(h,{key:0,name:"save-solid"})):(_(),x(h,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),o(p,{justify:"center",align:"top",gutter:12,class:"default-row"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(L)]),_:1})]),_:1})],64)}}},Mo=Q(to,[["__scopeId","data-v-a369c1c1"]]),oo={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const l=le();return(c,u)=>{const i=ee,d=te,m=re,s=oe,a=$e;return n(l).isGuest?q("",!0):(_(),H(X,{key:0},[o(s,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(d,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(i,{size:20,src:n(l).avatar},null,8,["src"])]),_:1}),o(d,{xs:7,sm:7,md:8,lg:8,xl:8,onClick:u[0]||(u[0]=y=>c.$emit("showModal")),class:"idea-flex-center-col new-idea-text"},{default:t(()=>[B(" New Idea... ")]),_:1}),o(d,{xs:3,sm:3,md:2,lg:2,xl:2,class:"flex-end-col"},{default:t(()=>[o(m,{type:"primary",onClick:u[1]||(u[1]=y=>c.$emit("showModal")),round:"",disabled:""},{default:t(()=>[B("Post")]),_:1})]),_:1})]),_:1}),o(s,{justify:"center",align:"middle",gutter:12,class:"default-row"},{default:t(()=>[o(d,{xs:12,sm:12,md:12},{default:t(()=>[o(a)]),_:1})]),_:1})],64))}}},So=Q(oo,[["__scopeId","data-v-024f2035"]]),lo={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const l=le();return(c,u)=>{const i=ee,d=Me,m=te,s=oe;return _(),H(X,null,[o(s,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:t(()=>[o(Y,null,{reference:t(()=>[o(i,{size:20,src:n(l).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>[w("p",null,$(e.comment.author.name),1)]),_:1}),o(d,{size:"small",class:"icon-pointer"},{default:t(()=>[o(Y,null,{reference:t(()=>[w("span",null,$(e.comment.author.name),1)]),default:t(()=>[w("div",null,[w("p",null,$(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:t(()=>[o(d,{size:"small"},{default:t(()=>[B($(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),o(s,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:t(()=>[o(d,null,{default:t(()=>[B($(e.comment.body),1)]),_:1})]),_:1})],64)}}},no=Q(lo,[["__scopeId","data-v-a03b56e9"]]),ao={__name:"Popover",props:{placement:{type:String,default:"bottom"},width:{type:Number,default:200},showAfter:{type:Number,default:200},hideAfter:{type:Number,default:200},trigger:{type:String,default:"hover"}},setup(e){return(l,c)=>{const u=ft;return _(),x(u,{width:e.width,placement:e.placement,trigger:e.trigger,"show-after":e.showAfter,"hide-after":e.hideAfter,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; border-radius: 10px"},{reference:t(()=>[T(l.$slots,"reference")]),default:t(()=>[T(l.$slots,"default")]),_:3},8,["width","placement","trigger","show-after","hide-after"])}}},so={class:"idea-comment-container"},io=U({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:l}){const c=le(),{isGuest:u,avatar:i}=ct(c),d=I(!0),m=I(),s=l,a=()=>{s("close")},y=e,r=G(y.ideaCommentForm),f=I([{required:!0,message:"Please input comment",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}]),v=I(y.ideaCommentForm.idea.comments||[]),C=()=>{s("delete-comment-handler")};return J(()=>y.ideaCommentForm.idea.comments,p=>{console.log(p)},{deep:!0,immediate:!0}),(p,k)=>{const h=ee,M=te,L=Ce,b=ye,N=re,z=oe,P=be,A=Te;return _(),x(A,{modelValue:d.value,"onUpdate:modelValue":k[3]||(k[3]=E=>d.value=E),title:"Idea Comments",onClose:a,style:{"border-radius":"5px"}},Ee({default:t(()=>[w("div",so,[(_(!0),H(X,null,mt(v.value,E=>(_(),x(no,{key:E.id,comment:E,submitting:e.submitting,onDeleteCommentHandler:C},null,8,["comment","submitting"]))),128))])]),_:2},[n(u)?void 0:{name:"footer",fn:t(()=>[o(P,{ref_key:"ideaCommentFormRef",ref:m,model:r,"status-icon":"",onSubmit:k[2]||(k[2]=xe(()=>{},["prevent"]))},{default:t(()=>[o(z,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(M,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(ao,null,{reference:t(()=>[o(h,{size:20,src:n(i),class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var E;return[w("p",null,$((E=r.idea.author)==null?void 0:E.name),1)]}),_:1})]),_:1}),o(M,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:t(()=>[o(b,{prop:"body",required:"",rules:f.value},{default:t(()=>[o(L,{modelValue:r.body,"onUpdate:modelValue":k[0]||(k[0]=E=>r.body=E),autocomplete:"off",placeholder:"Add a comment...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),o(M,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(b,null,{default:t(()=>[o(N,{type:"primary",onClick:k[1]||(k[1]=E=>p.$emit("submit",m.value,r)),round:"",disabled:!r.body||e.submitting},{default:t(()=>[B($(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}}),Fo=Q(io,[["__scopeId","data-v-29f310a8"]]);export{Fo as I,So as P,$o as _,Mo as a,Be as u};
