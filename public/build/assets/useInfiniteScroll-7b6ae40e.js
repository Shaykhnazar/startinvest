import{V as tt,s as oe,W as ot,D as Te,X as lt,h as $,q as Q,Y as nt,$ as fe,I as x,p as C,G as st,o as b,f as P,N as Z,u as n,c as S,w as o,a0 as _e,r as M,n as O,A as Ee,e as he,a as s,a1 as at,g as Y,L as xe,a2 as it,O as ge,b as I,t as T,z as rt,H as dt,C as ct,E as ye,i as Be,a3 as Ne,a4 as Oe,K as Fe,a5 as ut,d as D,P as ae,_ as ie,k as mt,a6 as ft,m as ee,a7 as pt,S as vt,U as gt,a8 as yt,l as bt,R as _t,Q as Ie,F as ht}from"./app-2f9de9d2.js";import{e as te,u as G,f as Le,h as ke,g as Ct,j as wt,r as Et,b as U,a as Ae,k as Ce,l as A,E as re,_ as q,w as le,m as It,C as kt,n as De,o as St,p as Se,q as $t,c as Mt}from"./base-d0fa98ce.js";import{b as Tt,c as xt,d as $e,E as de,a as ce}from"./el-col-bec6859a.js";import{t as Pe}from"./error-78e43d3e.js";import{c as ze,u as Bt,a as Nt,b as Ot,E as we}from"./el-button-4509e6ab.js";import{g as Ft,U as Re,E as Ve,a as He,b as Ue}from"./el-input-220ded15.js";import{E as je}from"./el-divider-3770d2c9.js";import{E as Lt}from"./el-popover-b7868eef.js";import{F as At,i as Dt,E as Pt,u as be,a as R,b as Ye}from"./el-popper-13c3c0f0.js";import{P as pe,E as zt}from"./useNavActiveTab-104d67d2.js";import{u as ue}from"./UserStore-b73230a7.js";import{a as Rt}from"./api-cedf4a08.js";import{E as Vt}from"./helpers-4f48c5d3.js";import{u as Ht}from"./index-d9f8beb3.js";const Ut=(...e)=>t=>{e.forEach(a=>{tt(a)?a(t):a.value=t})},jt=(e,t,a,l)=>{let i={offsetX:0,offsetY:0};const r=d=>{const c=d.clientX,f=d.clientY,{offsetX:v,offsetY:g}=i,h=e.value.getBoundingClientRect(),y=h.left,w=h.top,m=h.width,B=h.height,z=document.documentElement.clientWidth,E=document.documentElement.clientHeight,K=-y+v,j=-w+g,V=z-y-m+v,H=E-w-B+g,k=_=>{let N=v+_.clientX-c,F=g+_.clientY-f;l!=null&&l.value||(N=Math.min(Math.max(N,K),V),F=Math.min(Math.max(F,j),H)),i={offsetX:N,offsetY:F},e.value&&(e.value.style.transform=`translate(${te(N)}, ${te(F)})`)},W=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",W)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",W)},p=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",r)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",r)};oe(()=>{ot(()=>{a.value?p():u()})}),Te(()=>{u()})},Yt=(e,t={})=>{lt(e)||Pe("[useLockscreen]","You need to pass a ref param to this function");const a=t.ns||G("popup"),l=$(()=>a.bm("parent","hidden"));if(!Le||ke(document.body,l.value))return;let i=0,r=!1,p="0";const u=()=>{setTimeout(()=>{Et(document==null?void 0:document.body,l.value),r&&document&&(document.body.style.width=p)},200)};Q(e,d=>{if(!d){u();return}r=!ke(document.body,l.value),r&&(p=document.body.style.width),i=Ft(a.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,f=Ct(document.body,"overflowY");i>0&&(c||f==="scroll")&&r&&(document.body.style.width=`calc(100% - ${i}px)`),wt(document.body,l.value)}),nt(()=>u())},qe=e=>{if(!e)return{onClick:fe,onMousedown:fe,onMouseup:fe};let t=!1,a=!1;return{onClick:p=>{t&&a&&e(p),t=a=!1},onMousedown:p=>{t=p.target===p.currentTarget},onMouseup:p=>{a=p.target===p.currentTarget}}},qt=U({size:{type:[Number,String],values:ze,default:"",validator:e=>Ae(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ce},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:A(String),default:"cover"}}),Kt={error:e=>e instanceof Event},Wt=["src","alt","srcset"],Xt=x({name:"ElAvatar"}),Gt=x({...Xt,props:qt,emits:Kt,setup(e,{emit:t}){const a=e,l=G("avatar"),i=C(!1),r=$(()=>{const{size:c,icon:f,shape:v}=a,g=[l.b()];return st(c)&&g.push(l.m(c)),f&&g.push(l.m("icon")),v&&g.push(l.m(v)),g}),p=$(()=>{const{size:c}=a;return Ae(c)?l.cssVarBlock({size:te(c)||""}):void 0}),u=$(()=>({objectFit:a.fit}));Q(()=>a.src,()=>i.value=!1);function d(c){i.value=!0,t("error",c)}return(c,f)=>(b(),P("span",{class:O(n(r)),style:Z(n(p))},[(c.src||c.srcSet)&&!i.value?(b(),P("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Z(n(u)),onError:d},null,44,Wt)):c.icon?(b(),S(n(re),{key:1},{default:o(()=>[(b(),S(_e(c.icon)))]),_:1})):M(c.$slots,"default",{key:2})],6))}});var Jt=q(Gt,[["__file","avatar.vue"]]);const me=le(Jt),Zt={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Qt={click:e=>e instanceof MouseEvent},eo=(e,t,a)=>{const l=Ee(),i=Ee(),r=C(!1),p=()=>{l.value&&(r.value=l.value.scrollTop>=e.visibilityHeight)},u=c=>{var f;(f=l.value)==null||f.scrollTo({top:0,behavior:"smooth"}),t("click",c)},d=It(p,300,!0);return Tt(i,"scroll",d),oe(()=>{var c;i.value=document,l.value=document.documentElement,e.target&&(l.value=(c=document.querySelector(e.target))!=null?c:void 0,l.value||Pe(a,`target does not exist: ${e.target}`),i.value=l.value),p()}),{visible:r,handleClick:u}},Ke="ElBacktop",to=x({name:Ke}),oo=x({...to,props:Zt,emits:Qt,setup(e,{emit:t}){const a=e,l=G("backtop"),{handleClick:i,visible:r}=eo(a,t,Ke),p=$(()=>({right:`${a.right}px`,bottom:`${a.bottom}px`}));return(u,d)=>(b(),S(xe,{name:`${n(l).namespace.value}-fade-in`},{default:o(()=>[n(r)?(b(),P("div",{key:0,style:Z(n(p)),class:O(n(l).b()),onClick:d[0]||(d[0]=he((...c)=>n(i)&&n(i)(...c),["stop"]))},[M(u.$slots,"default",{},()=>[s(n(re),{class:O(n(l).e("icon"))},{default:o(()=>[s(n(at))]),_:1},8,["class"])])],6)):Y("v-if",!0)]),_:3},8,["name"]))}});var lo=q(oo,[["__file","backtop.vue"]]);const hl=le(lo),no=U({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:A([String,Array,Object])},zIndex:{type:A([String,Number])}}),so={click:e=>e instanceof MouseEvent},ao="overlay";var io=x({name:"ElOverlay",props:no,emits:so,setup(e,{slots:t,emit:a}){const l=G(ao),i=d=>{a("click",d)},{onClick:r,onMousedown:p,onMouseup:u}=qe(e.customMaskEvent?void 0:i);return()=>e.mask?s("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:p,onMouseup:u},[M(t,"default")],pe.STYLE|pe.CLASS|pe.PROPS,["onClick","onMouseup","onMousedown"]):it("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[M(t,"default")])}});const ro=io,We=Symbol("dialogInjectionKey"),Xe=U({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ce},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),co={close:()=>!0},uo=["aria-level"],mo=["aria-label"],fo=["id"],po=x({name:"ElDialogContent"}),vo=x({...po,props:Xe,emits:co,setup(e){const t=e,{t:a}=Ht(),{Close:l}=kt,{dialogRef:i,headerRef:r,bodyId:p,ns:u,style:d}=ge(We),{focusTrapRef:c}=ge(At),f=$(()=>[u.b(),u.is("fullscreen",t.fullscreen),u.is("draggable",t.draggable),u.is("align-center",t.alignCenter),{[u.m("center")]:t.center}]),v=Ut(c,i),g=$(()=>t.draggable),h=$(()=>t.overflow);return jt(i,r,g,h),(y,w)=>(b(),P("div",{ref:n(v),class:O(n(f)),style:Z(n(d)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:r,class:O([n(u).e("header"),{"show-close":y.showClose}])},[M(y.$slots,"header",{},()=>[I("span",{role:"heading","aria-level":y.ariaLevel,class:O(n(u).e("title"))},T(y.title),11,uo)]),y.showClose?(b(),P("button",{key:0,"aria-label":n(a)("el.dialog.close"),class:O(n(u).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=m=>y.$emit("close"))},[s(n(re),{class:O(n(u).e("close"))},{default:o(()=>[(b(),S(_e(y.closeIcon||n(l))))]),_:1},8,["class"])],10,mo)):Y("v-if",!0)],2),I("div",{id:n(p),class:O(n(u).e("body"))},[M(y.$slots,"default")],10,fo),y.$slots.footer?(b(),P("footer",{key:0,class:O(n(u).e("footer"))},[M(y.$slots,"footer")],2)):Y("v-if",!0)],6))}});var go=q(vo,[["__file","dialog-content.vue"]]);const yo=U({...Xe,appendToBody:Boolean,appendTo:{type:A(String),default:"body"},beforeClose:{type:A(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),bo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Re]:e=>De(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},_o=(e,t)=>{var a;const i=dt().emit,{nextZIndex:r}=xt();let p="";const u=$e(),d=$e(),c=C(!1),f=C(!1),v=C(!1),g=C((a=e.zIndex)!=null?a:r());let h,y;const w=Bt("namespace",St),m=$(()=>{const L={},X=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(L[`${X}-margin-top`]=e.top),e.width&&(L[`${X}-width`]=te(e.width))),L}),B=$(()=>e.alignCenter?{display:"flex"}:{});function z(){i("opened")}function E(){i("closed"),i(Re,!1),e.destroyOnClose&&(v.value=!1)}function K(){i("close")}function j(){y==null||y(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=Se(()=>W(),e.openDelay):W()}function V(){h==null||h(),y==null||y(),e.closeDelay&&e.closeDelay>0?{stop:y}=Se(()=>_(),e.closeDelay):_()}function H(){function L(X){X||(f.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(L):V()}function k(){e.closeOnClickModal&&H()}function W(){Le&&(c.value=!0)}function _(){c.value=!1}function N(){i("openAutoFocus")}function F(){i("closeAutoFocus")}function Qe(L){var X;((X=L.detail)==null?void 0:X.focusReason)==="pointer"&&L.preventDefault()}e.lockScroll&&Yt(c);function et(){e.closeOnPressEscape&&H()}return Q(()=>e.modelValue,L=>{L?(f.value=!1,j(),v.value=!0,g.value=Dt(e.zIndex)?r():g.value++,rt(()=>{i("open"),t.value&&(t.value.scrollTop=0)})):c.value&&V()}),Q(()=>e.fullscreen,L=>{t.value&&(L?(p=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=p)}),oe(()=>{e.modelValue&&(c.value=!0,v.value=!0,j())}),{afterEnter:z,afterLeave:E,beforeLeave:K,handleClose:H,onModalClick:k,close:V,doClose:_,onOpenAutoFocus:N,onCloseAutoFocus:F,onCloseRequested:et,onFocusoutPrevented:Qe,titleId:u,bodyId:d,closed:f,style:m,overlayDialogStyle:B,rendered:v,visible:c,zIndex:g}},ho=["aria-label","aria-labelledby","aria-describedby"],Co=x({name:"ElDialog",inheritAttrs:!1}),wo=x({...Co,props:yo,emits:bo,setup(e,{expose:t}){const a=e,l=ct();Nt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!l.title));const i=G("dialog"),r=C(),p=C(),u=C(),{visible:d,titleId:c,bodyId:f,style:v,overlayDialogStyle:g,rendered:h,zIndex:y,afterEnter:w,afterLeave:m,beforeLeave:B,handleClose:z,onModalClick:E,onOpenAutoFocus:K,onCloseAutoFocus:j,onCloseRequested:V,onFocusoutPrevented:H}=_o(a,r);ye(We,{dialogRef:r,headerRef:p,bodyId:f,ns:i,rendered:h,style:v});const k=qe(E),W=$(()=>a.draggable&&!a.fullscreen);return t({visible:d,dialogContentRef:u}),(_,N)=>(b(),S(ut,{to:_.appendTo,disabled:_.appendTo!=="body"?!1:!_.appendToBody},[s(xe,{name:"dialog-fade",onAfterEnter:n(w),onAfterLeave:n(m),onBeforeLeave:n(B),persisted:""},{default:o(()=>[Be(s(n(ro),{"custom-mask-event":"",mask:_.modal,"overlay-class":_.modalClass,"z-index":n(y)},{default:o(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":_.title||void 0,"aria-labelledby":_.title?void 0:n(c),"aria-describedby":n(f),class:O(`${n(i).namespace.value}-overlay-dialog`),style:Z(n(g)),onClick:N[0]||(N[0]=(...F)=>n(k).onClick&&n(k).onClick(...F)),onMousedown:N[1]||(N[1]=(...F)=>n(k).onMousedown&&n(k).onMousedown(...F)),onMouseup:N[2]||(N[2]=(...F)=>n(k).onMouseup&&n(k).onMouseup(...F))},[s(n(Pt),{loop:"",trapped:n(d),"focus-start-el":"container",onFocusAfterTrapped:n(K),onFocusAfterReleased:n(j),onFocusoutPrevented:n(H),onReleaseRequested:n(V)},{default:o(()=>[n(h)?(b(),S(go,Ne({key:0,ref_key:"dialogContentRef",ref:u},_.$attrs,{center:_.center,"align-center":_.alignCenter,"close-icon":_.closeIcon,draggable:n(W),overflow:_.overflow,fullscreen:_.fullscreen,"show-close":_.showClose,title:_.title,"aria-level":_.headerAriaLevel,onClose:n(z)}),Oe({header:o(()=>[_.$slots.title?M(_.$slots,"title",{key:1}):M(_.$slots,"header",{key:0,close:n(z),titleId:n(c),titleClass:n(i).e("title")})]),default:o(()=>[M(_.$slots,"default")]),_:2},[_.$slots.footer?{name:"footer",fn:o(()=>[M(_.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Y("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ho)]),_:3},8,["mask","overlay-class","z-index"]),[[Fe,n(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Eo=q(wo,[["__file","dialog.vue"]]);const Ge=le(Eo),Io=x({inheritAttrs:!1});function ko(e,t,a,l,i,r){return M(e.$slots,"default")}var So=q(Io,[["render",ko],["__file","collection.vue"]]);const $o=x({name:"ElCollectionItem",inheritAttrs:!1});function Mo(e,t,a,l,i,r){return M(e.$slots,"default")}var To=q($o,[["render",Mo],["__file","collection-item.vue"]]);const xo="data-el-collection-item",Bo=e=>{const t=`El${e}Collection`,a=`${t}Item`,l=Symbol(t),i=Symbol(a),r={...So,name:t,setup(){const u=C(null),d=new Map;ye(l,{itemMap:d,getItems:()=>{const f=n(u);if(!f)return[];const v=Array.from(f.querySelectorAll(`[${xo}]`));return[...d.values()].sort((h,y)=>v.indexOf(h.ref)-v.indexOf(y.ref))},collectionRef:u})}},p={...To,name:a,setup(u,{attrs:d}){const c=C(null),f=ge(l,void 0);ye(i,{collectionItemRef:c}),oe(()=>{const v=n(c);v&&f.itemMap.set(v,{ref:v,...d})}),Te(()=>{const v=n(c);f.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:r,ElCollectionItem:p}},ve=U({trigger:be.trigger,effect:{...R.effect,default:"light"},type:{type:A(String)},placement:{type:A(String),default:"bottom"},popperOptions:{type:A(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:A([Number,String]),default:0},maxHeight:{type:A([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:A(Object)},teleported:R.teleported});U({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ce}});U({onKeydown:{type:A(Function)}});Bo("Dropdown");const No=U({trigger:be.trigger,placement:ve.placement,disabled:be.disabled,visible:R.visible,transition:R.transition,popperOptions:ve.popperOptions,tabindex:ve.tabindex,content:R.content,popperStyle:R.popperStyle,popperClass:R.popperClass,enterable:{...R.enterable,default:!0},effect:{...R.effect,default:"light"},teleported:R.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Oo={"update:visible":e=>De(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Fo="onUpdate:visible",Lo=x({name:"ElPopover"}),Ao=x({...Lo,props:No,emits:Oo,setup(e,{expose:t,emit:a}){const l=e,i=$(()=>l[Fo]),r=G("popover"),p=C(),u=$(()=>{var m;return(m=n(p))==null?void 0:m.popperRef}),d=$(()=>[{width:te(l.width)},l.popperStyle]),c=$(()=>[r.b(),l.popperClass,{[r.m("plain")]:!!l.content}]),f=$(()=>l.transition===`${r.namespace.value}-fade-in-linear`),v=()=>{var m;(m=p.value)==null||m.hide()},g=()=>{a("before-enter")},h=()=>{a("before-leave")},y=()=>{a("after-enter")},w=()=>{a("update:visible",!1),a("after-leave")};return t({popperRef:u,hide:v}),(m,B)=>(b(),S(n(Ye),Ne({ref_key:"tooltipRef",ref:p},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":n(c),"popper-style":n(d),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":n(f),"onUpdate:visible":n(i),onBeforeShow:g,onBeforeHide:h,onShow:y,onHide:w}),{content:o(()=>[m.title?(b(),P("div",{key:0,class:O(n(r).e("title")),role:"title"},T(m.title),3)):Y("v-if",!0),M(m.$slots,"default",{},()=>[D(T(m.content),1)])]),default:o(()=>[m.$slots.reference?M(m.$slots,"reference",{key:0}):Y("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Do=q(Ao,[["__file","popover.vue"]]);const Me=(e,t)=>{const a=t.arg||t.value,l=a==null?void 0:a.popperRef;l&&(l.triggerRef=e)};var Po={mounted(e,t){Me(e,t)},updated(e,t){Me(e,t)}};const zo="popover",Ro=$t(Po,zo),Vo=le(Do,{directive:Ro}),Ho=U({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ze,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Uo=x({name:"ElText"}),jo=x({...Uo,props:Ho,setup(e){const t=e,a=Ot(),l=G("text"),i=$(()=>[l.b(),l.m(t.type),l.m(a.value),l.is("truncated",t.truncated),l.is("line-clamp",!Mt(t.lineClamp))]);return(r,p)=>(b(),S(_e(r.tag),{class:O(n(i)),style:Z({"-webkit-line-clamp":r.lineClamp})},{default:o(()=>[M(r.$slots,"default")]),_:3},8,["class","style"]))}});var Yo=q(jo,[["__file","text.vue"]]);const Je=le(Yo);function Ze(){const e=ae({id:null,title:"",description:""}),t=ae({body:"",parent_id:null,idea:null}),a=ae({title:[{required:!0,message:"Please input title",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}],description:[{required:!1,message:"Please input description",trigger:"blur"}]}),l=C(!1),i=C(!1),r=C(!1);return{ideaForm:e,ideaCommentForm:t,rules:a,ideaModalVisible:l,ideaEditModalVisible:i,ideaCommentModalVisible:r,showIdeaModal:(v=!0)=>{e.id=null,e.title="",e.description="",l.value=v},showIdeaEditModal:(v=!0,g=null)=>{g&&(e.id=g.id,e.title=g.title,e.description=g.description),i.value=v},showIdeaCommentModal:(v=!0,g=null,h=null)=>{t.idea=g??null,t.parent_id=h??null,t.body="",r.value=v},cancelEvent:()=>{console.log("cancel!")},resetForm:v=>{v&&v.resetFields()}}}const qo={class:"dialog-footer"},Cl=x({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:t}){const{rules:a}=Ze(),l=C(!0),i=C(),r=t,p=()=>{r("close")},d=C(e.ideaForm);return(c,f)=>{const v=Ve,g=He,h=Ue,y=we,w=Ge;return b(),S(w,{modelValue:l.value,"onUpdate:modelValue":f[5]||(f[5]=m=>l.value=m),title:e.title,onClose:p,style:{"border-radius":"5px"}},{footer:o(()=>[I("span",qo,[s(y,{onClick:f[3]||(f[3]=m=>c.$emit("reset",i.value)),round:""},{default:o(()=>[D("Reset")]),_:1}),s(y,{type:"primary",onClick:f[4]||(f[4]=m=>c.$emit("submit",i.value,d.value)),round:"",disabled:!d.value.title||e.submitting},{default:o(()=>[D(T(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:o(()=>[s(h,{ref_key:"formRefComputed",ref:i,model:d.value,rules:n(a),"status-icon":"",onSubmit:f[2]||(f[2]=he(()=>{},["prevent"]))},{default:o(()=>[s(g,{label:"Title",prop:"title",required:""},{default:o(()=>[s(v,{modelValue:d.value.title,"onUpdate:modelValue":f[0]||(f[0]=m=>d.value.title=m),autocomplete:"off",placeholder:"Idea short title",clearable:""},null,8,["modelValue"])]),_:1}),s(g,{label:"Description (optional)",prop:"description"},{default:o(()=>[s(v,{modelValue:d.value.description,"onUpdate:modelValue":f[1]||(f[1]=m=>d.value.description=m),rows:2,type:"textarea",placeholder:"Describe your idea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});const J={__name:"Popover",props:{placement:{type:String,default:"bottom"},width:{type:Number,default:200},showAfter:{type:Number,default:200},hideAfter:{type:Number,default:200},trigger:{type:String,default:"hover"}},setup(e){return(t,a)=>{const l=Vo;return b(),S(l,{width:e.width,placement:e.placement,trigger:e.trigger,"show-after":e.showAfter,"hide-after":e.hideAfter,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; border-radius: 10px"},{reference:o(()=>[M(t.$slots,"reference")]),default:o(()=>[M(t.$slots,"default")]),_:3},8,["width","placement","trigger","show-after","hide-after"])}}},se={__name:"Tooltip",props:["placement","content"],setup(e){return(t,a)=>{const l=Ye;return b(),S(l,{class:"box-item",effect:"dark",content:e.content,placement:e.placement},{default:o(()=>[M(t.$slots,"default")]),_:3},8,["content","placement"])}}};const ne=e=>(vt("data-v-8ea917c8"),e=e(),gt(),e),Ko=ne(()=>I("hr",null,null,-1)),Wo=ne(()=>I("li",{class:"icon-pointer",style:{color:"#ff1100"}},"Delete",-1)),Xo=ne(()=>I("hr",null,null,-1)),Go=ne(()=>I("li",{class:"icon-pointer",style:{color:"#e72121"}},"Report",-1)),Jo=ne(()=>I("span",null,"...",-1)),Zo={class:"idea-desc"},Qo={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","deleteIdeaHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler"],setup(e){const t=ue(),{cancelEvent:a}=Ze(),l=C(!1),i=C(!1),r=C(""),p=async u=>{if(!l.value&&!r.value){i.value=!0;try{const d=await Rt.ideas.show(u.id);r.value=d.data.description}catch(d){console.error("Failed to fetch idea description:",d)}finally{i.value=!1}}l.value=!l.value};return(u,d)=>{const c=me,f=Je,v=de,g=re,h=Lt,y=ce,w=zt,m=mt("icon-svg"),B=Vt,z=je;return b(),P(ee,null,[s(y,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:o(()=>[s(v,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:o(()=>[s(J,null,{reference:o(()=>[s(c,{size:20,src:n(t).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:o(()=>{var E;return[I("p",null,T((E=e.idea.author)==null?void 0:E.name),1)]}),_:1}),s(f,{size:"small",class:"icon-pointer"},{default:o(()=>[s(J,null,{reference:o(()=>{var E;return[I("span",null,T((E=e.idea.author)==null?void 0:E.name),1)]}),default:o(()=>{var E;return[I("div",null,[I("p",null,T((E=e.idea.author)==null?void 0:E.name),1)])]}),_:1})]),_:1})]),_:1}),s(v,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:o(()=>[s(f,{size:"small"},{default:o(()=>[D(T(e.idea.created_at),1)]),_:1}),s(J,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:o(()=>[s(g,{size:"20",class:"icon-pointer ml-1"},{default:o(()=>[s(n(ft))]),_:1})]),default:o(()=>[I("ul",null,[n(t).isAuthorOfIdea(e.idea)?(b(),P(ee,{key:0},[I("li",{class:"icon-pointer",onClick:d[0]||(d[0]=E=>u.$emit("showEditModalHandler",!0,e.idea))},"Edit"),Ko,s(h,{"confirm-button-text":"Yes","cancel-button-text":"No","icon-color":"#626AEF",title:"Are you sure to delete this?",onConfirm:d[1]||(d[1]=E=>u.$emit("deleteIdeaHandler",e.idea.id)),onCancel:n(a)},{reference:o(()=>[Wo]),_:1},8,["onCancel"]),Xo],64)):Y("",!0),Go])]),_:1})]),_:1})]),_:1}),s(y,{justify:"center",align:"middle",gutter:12,class:"flex-col"},{default:o(()=>[s(v,{xs:12,sm:12,md:12,lg:12,xl:12,class:"idea-title",onClick:d[2]||(d[2]=E=>p(e.idea))},{default:o(()=>[s(f,null,{default:o(()=>[D(T(e.idea.title)+" ",1),Jo]),_:1})]),_:1}),s(v,{xs:12,sm:12,md:12,lg:12,xl:12},{default:o(()=>[s(w,null,{default:o(()=>[Be(I("div",Zo,[i.value?(b(),S(f,{key:0},{default:o(()=>[D("Loading...")]),_:1})):(b(),S(f,{key:1},{default:o(()=>[D(T(r.value),1)]),_:1}))],512),[[Fe,l.value]])]),_:1})]),_:1})]),_:1}),s(y,{justify:"center",align:"middle",gutter:12,class:"mt-5"},{default:o(()=>[s(v,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:o(()=>[s(B,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item",type:"success"},{default:o(()=>[s(se,{content:n(t).hasUpvotedIdea(e.idea)?"Liked":"Like",placement:"top"},{default:o(()=>[s(g,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:d[3]||(d[3]=E=>u.$emit("voteUpHandler",e.idea))},{default:o(()=>[n(t).hasUpvotedIdea(e.idea)?(b(),S(m,{key:0,name:"like-solid"})):(b(),S(m,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),s(B,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item"},{default:o(()=>[s(se,{content:n(t).hasDownvotedIdea(e.idea)?"Disliked":"Dislike",placement:"top"},{default:o(()=>[s(g,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2",onClick:d[4]||(d[4]=E=>u.$emit("voteDownHandler",e.idea))},{default:o(()=>[n(t).hasDownvotedIdea(e.idea)?(b(),S(m,{key:0,name:"dislike-solid"})):(b(),S(m,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])]),_:1}),s(v,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:o(()=>[s(B,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"item",type:"info"},{default:o(()=>[s(se,{content:"Comment",placement:"top"},{default:o(()=>[s(g,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:d[5]||(d[5]=E=>u.$emit("showCommentModalHandler",!0,e.idea))},{default:o(()=>[s(n(pt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),s(se,{content:n(t).hasFavoritedIdea(e.idea)?"Saved":"Save",placement:"top"},{default:o(()=>[s(g,{size:"20",class:"icon-pointer mt-0.5 ml-2",onClick:d[6]||(d[6]=E=>u.$emit("favoriteIdeaHandler",e.idea))},{default:o(()=>[n(t).hasFavoritedIdea(e.idea)?(b(),S(m,{key:0,name:"save-solid"})):(b(),S(m,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),s(y,{justify:"center",align:"top",gutter:12,class:"default-row"},{default:o(()=>[s(v,{xs:12,sm:12,md:12,lg:12,xl:12},{default:o(()=>[s(z)]),_:1})]),_:1})],64)}}},wl=ie(Qo,[["__scopeId","data-v-8ea917c8"]]);const el={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const t=ue();return(a,l)=>{const i=me,r=de,p=we,u=ce,d=je;return n(t).isGuest?Y("",!0):(b(),P(ee,{key:0},[s(u,{justify:"center",align:"middle",gutter:12},{default:o(()=>[s(r,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:o(()=>[s(i,{size:20,src:n(t).avatar},null,8,["src"])]),_:1}),s(r,{xs:7,sm:7,md:8,lg:8,xl:8,onClick:l[0]||(l[0]=c=>a.$emit("showModal")),class:"idea-flex-center-col new-idea-text"},{default:o(()=>[D(" New Idea... ")]),_:1}),s(r,{xs:3,sm:3,md:2,lg:2,xl:2,class:"flex-end-col"},{default:o(()=>[s(p,{type:"primary",onClick:l[1]||(l[1]=c=>a.$emit("showModal")),round:"",disabled:""},{default:o(()=>[D("Post")]),_:1})]),_:1})]),_:1}),s(u,{justify:"center",align:"middle",gutter:12,class:"default-row"},{default:o(()=>[s(r,{xs:12,sm:12,md:12},{default:o(()=>[s(d)]),_:1})]),_:1})],64))}}},El=ie(el,[["__scopeId","data-v-99606c53"]]);const tl={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const t=ue();return(a,l)=>{const i=me,r=Je,p=de,u=ce;return b(),P(ee,null,[s(u,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:o(()=>[s(p,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:o(()=>[s(J,null,{reference:o(()=>[s(i,{size:20,src:n(t).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:o(()=>[I("p",null,T(e.comment.author.name),1)]),_:1}),s(r,{size:"small",class:"icon-pointer"},{default:o(()=>[s(J,null,{reference:o(()=>[I("span",null,T(e.comment.author.name),1)]),default:o(()=>[I("div",null,[I("p",null,T(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),s(p,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:o(()=>[s(r,{size:"small"},{default:o(()=>[D(T(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),s(u,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:o(()=>[s(r,null,{default:o(()=>[D(T(e.comment.body),1)]),_:1})]),_:1})],64)}}},ol=ie(tl,[["__scopeId","data-v-512045ff"]]),ll={class:"idea-comment-container"},nl=x({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:t}){const a=ue(),{isGuest:l,avatar:i}=yt(a),r=C(!0),p=C(),u=t,d=()=>{u("close")},c=e,f=ae(c.ideaCommentForm),v=C([{required:!0,message:"Please input comment",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}]),g=C(c.ideaCommentForm.idea.comments||[]),h=()=>{u("delete-comment-handler")};return Q(()=>c.ideaCommentForm.idea.comments,y=>{console.log(y)},{deep:!0,immediate:!0}),(y,w)=>{const m=me,B=de,z=Ve,E=He,K=we,j=ce,V=Ue,H=Ge;return b(),S(H,{modelValue:r.value,"onUpdate:modelValue":w[3]||(w[3]=k=>r.value=k),title:"Idea Comments",onClose:d,style:{"border-radius":"5px"}},Oe({default:o(()=>[I("div",ll,[(b(!0),P(ee,null,bt(g.value,k=>(b(),S(ol,{key:k.id,comment:k,submitting:e.submitting,onDeleteCommentHandler:h},null,8,["comment","submitting"]))),128))])]),_:2},[n(l)?void 0:{name:"footer",fn:o(()=>[s(V,{ref_key:"ideaCommentFormRef",ref:p,model:f,"status-icon":"",onSubmit:w[2]||(w[2]=he(()=>{},["prevent"]))},{default:o(()=>[s(j,{justify:"center",align:"middle",gutter:12},{default:o(()=>[s(B,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:o(()=>[s(J,null,{reference:o(()=>[s(m,{size:20,src:n(i),class:"mr-2 icon-pointer"},null,8,["src"])]),default:o(()=>{var k;return[I("p",null,T((k=f.idea.author)==null?void 0:k.name),1)]}),_:1})]),_:1}),s(B,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:o(()=>[s(E,{prop:"body",required:"",rules:v.value},{default:o(()=>[s(z,{modelValue:f.body,"onUpdate:modelValue":w[0]||(w[0]=k=>f.body=k),autocomplete:"off",placeholder:"Add a comment...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),s(B,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:o(()=>[s(E,null,{default:o(()=>[s(K,{type:"primary",onClick:w[1]||(w[1]=k=>y.$emit("submit",p.value,f)),round:"",disabled:!f.body||e.submitting},{default:o(()=>[D(T(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}});const Il=ie(nl,[["__scopeId","data-v-258f4883"]]);function sl(e,t,a={}){const l=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&t()})},a);oe(()=>{l.observe(e.value)}),_t(()=>{l.disconnect()})}function kl(e,t=null){const a=()=>Ie().props[e],l=C(a().data),i=Ie().url,r=$(()=>a().links.next!==null),p=()=>{r.value&&ht.get(a().links.next,{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{window.history.replaceState({},"",i),l.value=[...l.value,...a().data]}})};return t!==null&&sl(t,p,{rootMargin:"0px 0px 250px 0px"}),{items:l,loadMoreItems:p,canLoadMoreItems:r}}export{hl as E,Il as I,El as P,Cl as _,kl as a,wl as b,Ze as u};
