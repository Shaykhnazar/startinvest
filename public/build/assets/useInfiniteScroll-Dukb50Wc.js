import{W as We,s as ee,ab as Xe,aa as Ze,al as Qe,j as O,q as Q,aw as Je,ax as le,ay as pe,m as k,L as $,o as _,c as C,w as i,u as n,f as z,S as te,n as A,e as ue,r as I,a as c,az as et,g as q,z as ce,V as _e,aA as tt,ar as ot,N as ve,b as m,t as M,U as ke,B as nt,a5 as at,$ as st,R as lt,h as xe,au as we,y as Ce,A as it,a6 as G,d as U,_ as oe,af as rt,i as ie,aB as dt,l as Ee,D as Te,E as Se,F as Me,aC as ut,p as ct,x as mt,Q as ge,ak as ft}from"./app-BVEWpKNB.js";import{m as re,f as Ie,h as ye,g as pt,w as vt,y as gt,F as yt,E as me,b as ne,d as J,k as ht,u as bt,G as _t,l as kt,H as he,a as xt}from"./index-BH76j2uT.js";import{h as wt,k as Ct,l as Et,d as Tt,c as St}from"./use-global-config-Bv912UFb.js";import{t as $e,U as Be}from"./event-Ccp5Doe-.js";import{u as P,_ as K,w as fe,d as Mt}from"./plugin-vue_export-helper-CO5Aj5ce.js";/* empty css             */import{b as be,a as It,E as De}from"./el-button-B_ZlppaL.js";import{g as $t,T as Bt,E as He,a as Le,b as Ae}from"./TextEditor-BTnlsons.js";import{F as Dt,d as Ht,e as Lt}from"./el-popper-Boyvy_Wh.js";/* empty css                   */import{u as ae}from"./UserStore-B5SiQ4Uz.js";import{a as At}from"./api-CkdGCLvF.js";import{E as Ot}from"./helpers--8ZkwWuN.js";import{E as Oe,a as Fe}from"./el-col-HMeSGw8N.js";import{_ as de,E as ze}from"./el-avatar-BGPopQ45.js";const Ft=(...e)=>o=>{e.forEach(a=>{We(a)?a(o):a.value=o})};var X=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(X||{});const zt=(e,o,a,l)=>{let t={offsetX:0,offsetY:0};const d=h=>{const p=h.clientX,v=h.clientY,{offsetX:w,offsetY:y}=t,b=e.value.getBoundingClientRect(),u=b.left,f=b.top,E=b.width,H=b.height,L=document.documentElement.clientWidth,F=document.documentElement.clientHeight,T=-u+w,V=-f+y,N=L-u-E+w,R=F-f-H+y,x=g=>{let S=w+g.clientX-p,B=y+g.clientY-v;l!=null&&l.value||(S=Math.min(Math.max(S,T),N),B=Math.min(Math.max(B,V),R)),t={offsetX:S,offsetY:B},e.value&&(e.value.style.transform=`translate(${re(S)}, ${re(B)})`)},Y=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",Y)},r=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",d)},s=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",d)};ee(()=>{Xe(()=>{a.value?r():s()})}),Ze(()=>{s()})},Nt=(e,o={})=>{Qe(e)||$e("[useLockscreen]","You need to pass a ref param to this function");const a=o.ns||P("popup"),l=O(()=>a.bm("parent","hidden"));if(!Ie||ye(document.body,l.value))return;let t=0,d=!1,r="0";const s=()=>{setTimeout(()=>{gt(document==null?void 0:document.body,l.value),d&&document&&(document.body.style.width=r)},200)};Q(e,h=>{if(!h){s();return}d=!ye(document.body,l.value),d&&(r=document.body.style.width),t=$t(a.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=pt(document.body,"overflowY");t>0&&(p||v==="scroll")&&d&&(document.body.style.width=`calc(100% - ${t}px)`),vt(document.body,l.value)}),Je(()=>s())},Ne=e=>{if(!e)return{onClick:le,onMousedown:le,onMouseup:le};let o=!1,a=!1;return{onClick:r=>{o&&a&&e(r),o=a=!1},onMousedown:r=>{o=r.target===r.currentTarget},onMouseup:r=>{a=r.target===r.currentTarget}}},Rt={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Vt={click:e=>e instanceof MouseEvent},Ut=(e,o,a)=>{const l=pe(),t=pe(),d=k(!1),r=()=>{l.value&&(d.value=l.value.scrollTop>=e.visibilityHeight)},s=p=>{var v;(v=l.value)==null||v.scrollTo({top:0,behavior:"smooth"}),o("click",p)},h=yt(r,300,!0);return wt(t,"scroll",h),ee(()=>{var p;t.value=document,l.value=document.documentElement,e.target&&(l.value=(p=document.querySelector(e.target))!=null?p:void 0,l.value||$e(a,`target does not exist: ${e.target}`),t.value=l.value),r()}),{visible:d,handleClick:s}},Re="ElBacktop",Yt=$({name:Re}),jt=$({...Yt,props:Rt,emits:Vt,setup(e,{emit:o}){const a=e,l=P("backtop"),{handleClick:t,visible:d}=Ut(a,o,Re),r=O(()=>({right:`${a.right}px`,bottom:`${a.bottom}px`}));return(s,h)=>(_(),C(ce,{name:`${n(l).namespace.value}-fade-in`},{default:i(()=>[n(d)?(_(),z("div",{key:0,style:te(n(r)),class:A(n(l).b()),onClick:h[0]||(h[0]=ue((...p)=>n(t)&&n(t)(...p),["stop"]))},[I(s.$slots,"default",{},()=>[c(n(me),{class:A(n(l).e("icon"))},{default:i(()=>[c(n(et))]),_:1},8,["class"])])],6)):q("v-if",!0)]),_:3},8,["name"]))}});var qt=K(jt,[["__file","backtop.vue"]]);const _n=fe(qt),Pt=$({name:"ElCollapseTransition"}),Gt=$({...Pt,setup(e){const o=P("collapse-transition"),a=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},l={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){a(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){a(t)},leaveCancelled(t){a(t)}};return(t,d)=>(_(),C(ce,_e({name:n(o).b()},tt(l)),{default:i(()=>[I(t.$slots,"default")]),_:3},16,["name"]))}});var Z=K(Gt,[["__file","collapse-transition.vue"]]);Z.install=e=>{e.component(Z.name,Z)};const Kt=Z,Wt=Kt,Xt=ne({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:J([String,Array,Object])},zIndex:{type:J([String,Number])}}),Zt={click:e=>e instanceof MouseEvent},Qt="overlay";var Jt=$({name:"ElOverlay",props:Xt,emits:Zt,setup(e,{slots:o,emit:a}){const l=P(Qt),t=h=>{a("click",h)},{onClick:d,onMousedown:r,onMouseup:s}=Ne(e.customMaskEvent?void 0:t);return()=>e.mask?c("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:r,onMouseup:s},[I(o,"default")],X.STYLE|X.CLASS|X.PROPS,["onClick","onMouseup","onMousedown"]):ot("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[I(o,"default")])}});const eo=Jt,Ve=Symbol("dialogInjectionKey"),Ue=ne({center:Boolean,alignCenter:Boolean,closeIcon:{type:ht},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},oo=["aria-level"],no=["aria-label"],ao=["id"],so=$({name:"ElDialogContent"}),lo=$({...so,props:Ue,emits:to,setup(e){const o=e,{t:a}=bt(),{Close:l}=_t,{dialogRef:t,headerRef:d,bodyId:r,ns:s,style:h}=ve(Ve),{focusTrapRef:p}=ve(Dt),v=O(()=>[s.b(),s.is("fullscreen",o.fullscreen),s.is("draggable",o.draggable),s.is("align-center",o.alignCenter),{[s.m("center")]:o.center}]),w=Ft(p,t),y=O(()=>o.draggable),b=O(()=>o.overflow);return zt(t,d,y,b),(u,f)=>(_(),z("div",{ref:n(w),class:A(n(v)),style:te(n(h)),tabindex:"-1"},[m("header",{ref_key:"headerRef",ref:d,class:A([n(s).e("header"),{"show-close":u.showClose}])},[I(u.$slots,"header",{},()=>[m("span",{role:"heading","aria-level":u.ariaLevel,class:A(n(s).e("title"))},M(u.title),11,oo)]),u.showClose?(_(),z("button",{key:0,"aria-label":n(a)("el.dialog.close"),class:A(n(s).e("headerbtn")),type:"button",onClick:f[0]||(f[0]=E=>u.$emit("close"))},[c(n(me),{class:A(n(s).e("close"))},{default:i(()=>[(_(),C(ke(u.closeIcon||n(l))))]),_:1},8,["class"])],10,no)):q("v-if",!0)],2),m("div",{id:n(r),class:A(n(s).e("body"))},[I(u.$slots,"default")],10,ao),u.$slots.footer?(_(),z("footer",{key:0,class:A(n(s).e("footer"))},[I(u.$slots,"footer")],2)):q("v-if",!0)],6))}});var io=K(lo,[["__file","dialog-content.vue"]]);const ro=ne({...Ue,appendToBody:Boolean,appendTo:{type:J(String),default:"body"},beforeClose:{type:J(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Be]:e=>kt(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,o)=>{var a;const t=at().emit,{nextZIndex:d}=Ct();let r="";const s=be(),h=be(),p=k(!1),v=k(!1),w=k(!1),y=k((a=e.zIndex)!=null?a:d());let b,u;const f=Et("namespace",Mt),E=O(()=>{const D={},j=`--${f.value}-dialog`;return e.fullscreen||(e.top&&(D[`${j}-margin-top`]=e.top),e.width&&(D[`${j}-width`]=re(e.width))),D}),H=O(()=>e.alignCenter?{display:"flex"}:{});function L(){t("opened")}function F(){t("closed"),t(Be,!1),e.destroyOnClose&&(w.value=!1)}function T(){t("close")}function V(){u==null||u(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=he(()=>Y(),e.openDelay):Y()}function N(){b==null||b(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=he(()=>g(),e.closeDelay):g()}function R(){function D(j){j||(v.value=!0,p.value=!1)}e.beforeClose?e.beforeClose(D):N()}function x(){e.closeOnClickModal&&R()}function Y(){Ie&&(p.value=!0)}function g(){p.value=!1}function S(){t("openAutoFocus")}function B(){t("closeAutoFocus")}function Ge(D){var j;((j=D.detail)==null?void 0:j.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&Nt(p);function Ke(){e.closeOnPressEscape&&R()}return Q(()=>e.modelValue,D=>{D?(v.value=!1,V(),w.value=!0,y.value=Ht(e.zIndex)?d():y.value++,nt(()=>{t("open"),o.value&&(o.value.scrollTop=0)})):p.value&&N()}),Q(()=>e.fullscreen,D=>{o.value&&(D?(r=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=r)}),ee(()=>{e.modelValue&&(p.value=!0,w.value=!0,V())}),{afterEnter:L,afterLeave:F,beforeLeave:T,handleClose:R,onModalClick:x,close:N,doClose:g,onOpenAutoFocus:S,onCloseAutoFocus:B,onCloseRequested:Ke,onFocusoutPrevented:Ge,titleId:s,bodyId:h,closed:v,style:E,overlayDialogStyle:H,rendered:w,visible:p,zIndex:y}},mo=["aria-label","aria-labelledby","aria-describedby"],fo=$({name:"ElDialog",inheritAttrs:!1}),po=$({...fo,props:ro,emits:uo,setup(e,{expose:o}){const a=e,l=st();Tt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!l.title));const t=P("dialog"),d=k(),r=k(),s=k(),{visible:h,titleId:p,bodyId:v,style:w,overlayDialogStyle:y,rendered:b,zIndex:u,afterEnter:f,afterLeave:E,beforeLeave:H,handleClose:L,onModalClick:F,onOpenAutoFocus:T,onCloseAutoFocus:V,onCloseRequested:N,onFocusoutPrevented:R}=co(a,d);lt(Ve,{dialogRef:d,headerRef:r,bodyId:v,ns:t,rendered:b,style:w});const x=Ne(F),Y=O(()=>a.draggable&&!a.fullscreen);return o({visible:h,dialogContentRef:s}),(g,S)=>(_(),C(it,{to:g.appendTo,disabled:g.appendTo!=="body"?!1:!g.appendToBody},[c(ce,{name:"dialog-fade",onAfterEnter:n(f),onAfterLeave:n(E),onBeforeLeave:n(H),persisted:""},{default:i(()=>[xe(c(n(eo),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":n(u)},{default:i(()=>[m("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:n(p),"aria-describedby":n(v),class:A(`${n(t).namespace.value}-overlay-dialog`),style:te(n(y)),onClick:S[0]||(S[0]=(...B)=>n(x).onClick&&n(x).onClick(...B)),onMousedown:S[1]||(S[1]=(...B)=>n(x).onMousedown&&n(x).onMousedown(...B)),onMouseup:S[2]||(S[2]=(...B)=>n(x).onMouseup&&n(x).onMouseup(...B))},[c(n(Lt),{loop:"",trapped:n(h),"focus-start-el":"container",onFocusAfterTrapped:n(T),onFocusAfterReleased:n(V),onFocusoutPrevented:n(R),onReleaseRequested:n(N)},{default:i(()=>[n(b)?(_(),C(io,_e({key:0,ref_key:"dialogContentRef",ref:s},g.$attrs,{center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:n(Y),overflow:g.overflow,fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:n(L)}),we({header:i(()=>[g.$slots.title?I(g.$slots,"title",{key:1}):I(g.$slots,"header",{key:0,close:n(L),titleId:n(p),titleClass:n(t).e("title")})]),default:i(()=>[I(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:i(()=>[I(g.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,mo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ce,n(h)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var vo=K(po,[["__file","dialog.vue"]]);const Ye=fe(vo),go=ne({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:St,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),yo=$({name:"ElText"}),ho=$({...yo,props:go,setup(e){const o=e,a=It(),l=P("text"),t=O(()=>[l.b(),l.m(o.type),l.m(a.value),l.is("truncated",o.truncated),l.is("line-clamp",!xt(o.lineClamp))]);return(d,r)=>(_(),C(ke(d.tag),{class:A(n(t)),style:te({"-webkit-line-clamp":d.lineClamp})},{default:i(()=>[I(d.$slots,"default")]),_:3},8,["class","style"]))}});var bo=K(ho,[["__file","text.vue"]]);const je=fe(bo);function qe(){const e=G({id:null,title:"",description:""}),o=G({body:"",parent_id:null,idea:null}),a=G({idea:null}),l=G({title:[{required:!0,message:"Iltimos, sarlavhani kiriting",trigger:"blur"},{min:3,max:255,message:"Uzunlik 3 dan 255 gacha bo'lishi kerak",trigger:"blur"}],description:[{required:!1,message:"Iltimos, tavsifni kiriting",trigger:"blur"}]}),t=k(!1),d=k(!1),r=k(!1),s=k(!1);return{ideaForm:e,ideaCommentForm:o,ideaDeleteModalProps:a,rules:l,ideaModalVisible:t,ideaEditModalVisible:d,ideaCommentModalVisible:r,ideaDeleteModalVisible:s,showIdeaModal:(u=!0)=>{e.id=null,e.title="",e.description="",t.value=u},showIdeaEditModal:(u=!0,f=null)=>{f&&(e.id=f.id,e.title=f.title,e.description=f.description),d.value=u},showIdeaCommentModal:(u=!0,f=null,E=null)=>{o.idea=f??null,o.parent_id=E??null,o.body="",r.value=u},showIdeaDeleteModal:(u=!0,f=null)=>{a.idea=f??null,s.value=u},cancelEvent:()=>{console.log("cancel!")},resetForm:u=>{u&&u.resetFields()}}}const _o={class:"dialog-footer"},kn=$({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:o}){const{rules:a}=qe(),l=k(!0),t=k(!1),d=k(null),r=k(),s=()=>{d.value.getContent().content.length===1&&typeof d.value.getContent().content[0].content>"u"?y.value.description=null:y.value.description=d.value.getContent()};function h(b){return b.description=d.value.getContentAsHTML(),b}const p=o,v=()=>{p("close")},y=k(e.ideaForm);return(b,u)=>{const f=He,E=Le,H=Ae,L=De,F=Ye;return _(),C(F,{modelValue:l.value,"onUpdate:modelValue":u[4]||(u[4]=T=>l.value=T),title:e.title,onClose:v,style:{"border-radius":"5px"}},{footer:i(()=>[m("span",_o,[c(L,{onClick:u[2]||(u[2]=T=>b.$emit("reset",r.value)),round:""},{default:i(()=>[U("Qayta tiklash")]),_:1}),c(L,{type:"primary",onClick:u[3]||(u[3]=T=>b.$emit("submit",r.value,h(y.value))),round:"",disabled:!y.value.title||e.submitting},{default:i(()=>[U(M(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:i(()=>[c(H,{ref_key:"formRefComputed",ref:r,model:y.value,rules:n(a),"status-icon":"",onSubmit:u[1]||(u[1]=ue(()=>{},["prevent"]))},{default:i(()=>[c(E,{label:"Sarlavha",prop:"title",required:""},{default:i(()=>[c(f,{modelValue:y.value.title,"onUpdate:modelValue":u[0]||(u[0]=T=>y.value.title=T),autocomplete:"off",placeholder:"G'oyaning qisqa sarlavhasi",clearable:""},null,8,["modelValue"])]),_:1}),c(E,{label:"G'oyangizni tasvirlang",prop:"description"},{default:i(()=>[c(Bt,{ref_key:"editorRef",ref:d,content:y.value.description,editable:!t.value,onOnChange:s},null,8,["content","editable"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),ko={class:"hs-tooltip inline-block"},xo={class:"hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity inline-block absolute invisible z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded shadow-sm dark:bg-neutral-700",role:"tooltip"},W={__name:"Tooltip",props:["placement","content"],setup(e){return(o,a)=>(_(),z("div",ko,[I(o.$slots,"default"),m("span",xo,M(e.content),1)]))}},se=e=>(Te("data-v-6020ccd6"),e=e(),Se(),e),wo={class:"p-4 bg-white border border-green-100 rounded-xl dark:bg-neutral-800 dark:border-neutral-700"},Co={class:"grid grid-cols-1 lg:gap-y-0 lg:gap-x-5"},Eo={class:"flex flex-row items-center gap-x-3 mb-2"},To=se(()=>m("img",{class:"size-10 rounded-full",src:"https://images.unsplash.com/photo-1659482633369-9fe69af50bfb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2.5&w=320&h=320&q=80",alt:"Avatar"},null,-1)),So={class:"group-hover:text-gray-600 group-focus:text-gray-600 text-sm font-semibold text-gray-800 dark:group-hover:text-neutral-400 dark:group-focus:text-neutral-400 dark:text-neutral-200"},Mo={class:"hover:underline hover:text-blue-500 dark:hover:text-blue-500 focus:outline-none dark:focus:outline-none focus:text-blue-500 dark:focus:text-blue-500"},Io={class:"text-sm text-gray-500 dark:text-neutral-500"},$o={class:"flex justify-end"},Bo={class:"hs-dropdown [--placement:bottom-right] relative inline-flex"},Do=Ee('<button id="hs-pro-dupc1" type="button" class="size-7 inline-flex justify-center items-center gap-x-2 rounded-lg border border-transparent text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-200 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown" data-v-6020ccd6><svg class="lucide lucide-ellipsis shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6020ccd6><circle cx="12" cy="12" r="1" data-v-6020ccd6></circle><circle cx="19" cy="12" r="1" data-v-6020ccd6></circle><circle cx="5" cy="12" r="1" data-v-6020ccd6></circle></svg></button>',1),Ho={class:"hs-dropdown-menu hs-dropdown-open:opacity-100 w-40 transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white rounded-xl shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:shadow-[0_10px_40px_10px_rgba(0,0,0,0.2)] dark:bg-neutral-900",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-pro-dupc1"},Lo={class:"p-1"},Ao=se(()=>m("svg",{class:"shrink-0 size-3.5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[m("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),m("path",{d:"m15 5 4 4"})],-1)),Oo=se(()=>m("div",{class:"my-1 border-t border-gray-200 dark:border-neutral-700"},null,-1)),Fo=Ee('<svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6020ccd6><path d="M3 6h18" data-v-6020ccd6></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-6020ccd6></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-6020ccd6></path><line x1="10" x2="10" y1="11" y2="17" data-v-6020ccd6></line><line x1="14" x2="14" y1="11" y2="17" data-v-6020ccd6></line></svg>',1),zo={class:"grid grid-cols-1 gap-y-2 lg:gap-y-0 lg:gap-x-5"},No={class:"text-md text-dark-500 dark:text-neutral-200 hover:underline focus:outline-none dark:focus:outline-none"},Ro=se(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-ellipsis"},[m("circle",{cx:"12",cy:"12",r:"1"}),m("circle",{cx:"19",cy:"12",r:"1"}),m("circle",{cx:"5",cy:"12",r:"1"})],-1)),Vo={class:"mb-4"},Uo={class:"idea-desc"},Yo={class:"grid grid-cols-2 gap-y-1 pt-2 lg:gap-y-0 lg:gap-x-5 border-t border-gray-200 dark:border-neutral-700"},jo={class:"absolute"},qo={class:"flex justify-end items-center flex-wrap gap-x-1"},Po={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler","showDeleteModalHandler"],setup(e){const o=ae();qe();const a=k(!1),l=k(!1),t=k(""),d=async r=>{if(!a.value&&!t.value){l.value=!0;try{const s=await At.ideas.show(r.id);t.value=s.data.description}catch(s){console.error("G'oyaning tavsifini olishda xatolik:",s)}finally{l.value=!1}}a.value=!a.value};return(r,s)=>{var b,u;const h=je,p=Wt,v=rt("icon-svg"),w=me,y=Ot;return _(),z("div",wo,[m("div",Co,[m("div",Eo,[c(n(ie),{href:r.route("user.profile",(b=e.idea.author)==null?void 0:b.id),class:"block shrink-0 focus:outline-none"},{default:i(()=>[To]),_:1},8,["href"]),c(n(ie),{class:"grow block focus:outline-none",href:r.route("user.profile",(u=e.idea.author)==null?void 0:u.id)},{default:i(()=>{var f;return[m("h5",So,[m("span",Mo,M((f=e.idea.author)==null?void 0:f.name),1)]),m("p",Io,M(e.idea.created_at),1)]}),_:1},8,["href"]),m("div",$o,[m("div",Bo,[Do,m("div",Ho,[m("div",Lo,[m("button",{type:"button",onClick:s[0]||(s[0]=f=>r.$emit("showEditModalHandler",!0,e.idea)),class:"w-full flex items-center gap-x-3 py-1.5 px-2 rounded-lg text-[13px] font-normal text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800","data-hs-overlay":"#hs-pro-detm"},[Ao,U(" Tahrirlash ")]),Oo,n(o).isAuthorOfIdea(e.idea)?(_(),z("button",{key:0,type:"button",onClick:s[1]||(s[1]=f=>r.$emit("showDeleteModalHandler",!0,e.idea)),class:"w-full flex items-center gap-x-3 py-1.5 px-2 rounded-lg text-[13px] font-normal text-red-600 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-red-500 dark:hover:bg-neutral-800 dark:focus:bg-neutral-700","data-hs-overlay":"#hs-pro-dtlam"},[Fo,U(" O'chirish ")])):q("",!0)])])])])])]),m("div",zo,[m("div",{class:"idea-title flex justify-center items-center gap-x-0.5 dark:hover:bg-neutral-800",onClick:s[2]||(s[2]=f=>d(e.idea))},[m("p",No,M(e.idea.title),1),Ro]),m("div",Vo,[c(p,null,{default:i(()=>[xe(m("div",Uo,[l.value?(_(),C(h,{key:0},{default:i(()=>[U("Yuklanmoqda...")]),_:1})):(_(),C(h,{key:1,innerHTML:t.value,class:"dark:text-neutral-300"},null,8,["innerHTML"]))],512),[[Ce,a.value]])]),_:1})])]),m("div",Yo,[m("div",null,[m("div",jo,[c(y,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item dark:hover:bg-neutral-700 dark:hover:rounded",type:"success"},{default:i(()=>[c(W,{content:(n(o).hasUpvotedIdea(e.idea),"👍"),placement:"top"},{default:i(()=>[c(w,{size:"20",class:"icon-pointer mt-0.5 mr-2 dark:text-[#409EFF]",onClick:s[3]||(s[3]=f=>r.$emit("voteUpHandler",e.idea))},{default:i(()=>[n(o).hasUpvotedIdea(e.idea)?(_(),C(v,{key:0,name:"like-solid"})):(_(),C(v,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),c(y,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item dark:hover:bg-neutral-700 dark:hover:rounded"},{default:i(()=>[c(W,{content:(n(o).hasDownvotedIdea(e.idea),"👎"),placement:"top"},{default:i(()=>[c(w,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2 dark:text-[#409EFF]",onClick:s[4]||(s[4]=f=>r.$emit("voteDownHandler",e.idea))},{default:i(()=>[n(o).hasDownvotedIdea(e.idea)?(_(),C(v,{key:0,name:"dislike-solid"})):(_(),C(v,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])])]),m("div",qo,[c(y,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"tooltip-base-box dark:hover:bg-neutral-700 dark:hover:rounded",type:"info"},{default:i(()=>[c(W,{content:"Izoh",placement:"top"},{default:i(()=>[c(w,{size:"20",class:"icon-pointer mt-0.5 mr-2 dark:text-[#409EFF]",onClick:s[5]||(s[5]=f=>r.$emit("showCommentModalHandler",!0,e.idea))},{default:i(()=>[c(n(dt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),c(W,{content:n(o).hasFavoritedIdea(e.idea)?"Saqlangan":"Saqlash",placement:"top",class:"dark:hover:bg-neutral-700 dark:hover:rounded"},{default:i(()=>[c(w,{size:"20",class:"icon-pointer mt-0.5 ml-2 dark:text-[#409EFF]",onClick:s[6]||(s[6]=f=>r.$emit("favoriteIdeaHandler",e.idea))},{default:i(()=>[n(o).hasFavoritedIdea(e.idea)?(_(),C(v,{key:0,name:"save-solid"})):(_(),C(v,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])])])])}}},xn=oe(Po,[["__scopeId","data-v-6020ccd6"]]),Pe=e=>(Te("data-v-c26e49b8"),e=e(),Se(),e),Go={key:0,class:"pb-4 pt-2 px-4 mb-2 grid grid-cols-1 gap-y-2 lg:gap-y-0 lg:gap-x-5 border bg-white rounded-xl dark:bg-neutral-800 dark:border-neutral-700"},Ko={class:"flex flex-row items-center"},Wo=Pe(()=>m("img",{class:"size-10 rounded-full",src:"https://images.unsplash.com/photo-1659482633369-9fe69af50bfb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2.5&w=320&h=320&q=80",alt:"Avatar"},null,-1)),Xo=Pe(()=>m("span",{class:"py-2 px-4"},"Yangi G'oya...",-1)),Zo=[Xo],Qo={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const o=ae();return(a,l)=>{var t;return n(o).isGuest?q("",!0):(_(),z("div",Go,[m("div",Ko,[c(n(ie),{href:a.route("user.profile",(t=n(o).authUser)==null?void 0:t.id),class:"block focus:outline-none w-1/5"},{default:i(()=>[Wo]),_:1},8,["href"]),m("div",{onClick:l[0]||(l[0]=d=>a.$emit("showModal")),class:"new-idea-text inline-flex justify-start items-center border w-4/5 rounded-full border-gray-700 dark:border-neutral-100 dark:text-neutral-300 hover:bg-[#F3F3F3] dark:hover:bg-[#2B2F32]"},Zo)])]))}}},wn=oe(Qo,[["__scopeId","data-v-c26e49b8"]]),Jo={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const o=ae();return(a,l)=>{const t=ze,d=je,r=Oe,s=Fe;return _(),z(Me,null,[c(s,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:i(()=>[c(r,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:i(()=>[c(de,null,{reference:i(()=>[c(t,{size:20,src:n(o).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:i(()=>[m("p",null,M(e.comment.author.name),1)]),_:1}),c(d,{size:"small",class:"icon-pointer"},{default:i(()=>[c(de,null,{reference:i(()=>[m("span",null,M(e.comment.author.name),1)]),default:i(()=>[m("div",null,[m("p",null,M(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),c(r,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:i(()=>[c(d,{size:"small"},{default:i(()=>[U(M(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),c(s,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:i(()=>[c(d,null,{default:i(()=>[U(M(e.comment.body),1)]),_:1})]),_:1})],64)}}},en=oe(Jo,[["__scopeId","data-v-512045ff"]]),tn={class:"idea-comment-container"},on=$({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:o}){const a=ae(),{isGuest:l,avatar:t}=ut(a),d=k(!0),r=k(),s=o,h=()=>{s("close")},p=e,v=G(p.ideaCommentForm),w=k([{required:!0,message:"Sharhni kiriting",trigger:"blur"},{min:3,max:255,message:"Uzunligi 3 dan 255 gacha bo'lishi kerak",trigger:"blur"}]),y=k(p.ideaCommentForm.idea.comments||[]),b=()=>{s("delete-comment-handler")};return Q(()=>p.ideaCommentForm.idea.comments,u=>{console.log(u),y.value=u},{deep:!0,immediate:!0}),(u,f)=>{const E=ze,H=Oe,L=He,F=Le,T=De,V=Fe,N=Ae,R=Ye;return _(),C(R,{modelValue:d.value,"onUpdate:modelValue":f[3]||(f[3]=x=>d.value=x),title:"G'oya Sharhlari",onClose:h,style:{"border-radius":"5px"}},we({default:i(()=>[m("div",tn,[(_(!0),z(Me,null,ct(y.value,x=>(_(),C(en,{key:x.id,comment:x,submitting:e.submitting,onDeleteCommentHandler:b},null,8,["comment","submitting"]))),128))])]),_:2},[n(l)?void 0:{name:"footer",fn:i(()=>[c(N,{ref_key:"ideaCommentFormRef",ref:r,model:v,"status-icon":"",onSubmit:f[2]||(f[2]=ue(()=>{},["prevent"]))},{default:i(()=>[c(V,{justify:"center",align:"middle",gutter:12},{default:i(()=>[c(H,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:i(()=>[c(de,null,{reference:i(()=>[c(E,{size:20,src:n(t),class:"mr-2 icon-pointer"},null,8,["src"])]),default:i(()=>{var x;return[m("p",null,M((x=v.idea.author)==null?void 0:x.name),1)]}),_:1})]),_:1}),c(H,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:i(()=>[c(F,{prop:"body",required:"",rules:w.value},{default:i(()=>[c(L,{modelValue:v.body,"onUpdate:modelValue":f[0]||(f[0]=x=>v.body=x),autocomplete:"off",placeholder:"Sharh qo'shing...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),c(H,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:i(()=>[c(F,null,{default:i(()=>[c(T,{type:"primary",onClick:f[1]||(f[1]=x=>u.$emit("submit",r.value,v)),round:"",disabled:!v.body||e.submitting},{default:i(()=>[U(M(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}}),Cn=oe(on,[["__scopeId","data-v-e9612c35"]]);function nn(e,o,a={}){const l=new IntersectionObserver(t=>{t.forEach(d=>{d.isIntersecting&&o()})},a);ee(()=>{l.observe(e.value)}),mt(()=>{l.disconnect()})}function En(e,o=null){const a=()=>ge().props[e],l=k(a().data),t=ge().url,d=O(()=>a().links.next!==null),r=()=>{d.value&&ft.get(a().links.next,{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{window.history.replaceState({},"",t),l.value=[...l.value,...a().data]}})};return o!==null&&nn(o,r,{rootMargin:"0px 0px 250px 0px"}),{items:l,loadMoreItems:r,canLoadMoreItems:d}}export{_n as E,Cn as I,wn as P,kn as _,En as a,xn as b,qe as u};
