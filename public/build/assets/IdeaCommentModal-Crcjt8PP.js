import{e as se,u as ie,f as ve,h as ue,g as ze,j as Ae,r as Oe,b as de,k as Z,l as Ve,E as pe,_ as ge,C as He,m as Re,n as Ne,o as ce,w as je}from"./base-Dyg8xLVB.js";import{u as Ue,E as re}from"./el-button-CPBNj3Lk.js";import{E as ye,a as be}from"./el-form-item-wy6Cl2zw.js";import{g as Ye,U as _e,E as Ce}from"./el-input-CFTdmLug.js";import{V as qe,s as he,W as Xe,D as We,X as Ke,h as V,q as J,Y as Ge,$ as ne,I as U,a as o,r as L,a0 as Ze,O as me,o as h,f as H,b as w,n as O,u as l,t as x,w as t,c as $,a1 as Je,g as q,N as we,p as I,z as Qe,H as et,C as tt,E as ot,i as ke,a2 as lt,a3 as Ee,K as Ie,L as nt,a4 as at,P as G,d as T,e as $e,_ as Q,k as st,a5 as it,m as X,a6 as dt,S as rt,U as ut,a7 as ct,l as mt}from"./app-BaX9XRKS.js";import{E as xe}from"./el-divider-N4HOg8Bc.js";import{_ as Y,a as ee,b as Me}from"./useInfiniteScroll-H6WEGJFh.js";import{b as ft,c as fe,E as te,a as oe}from"./el-col-BhSxEXRF.js";import{E as vt}from"./el-popconfirm-B1UA3qrx.js";import{F as pt,i as gt,E as yt,a as bt}from"./el-popper-BTPNSr8J.js";/* empty css                   */import{P as ae,E as _t}from"./App.vue_vue_type_style_index_0_scoped_9c70e886_lang-O0BxIv3e.js";import{u as le}from"./UserStore-CRVYXI6B.js";import{a as Ct}from"./api-C-Ezajxb.js";import{E as ht}from"./helpers-DGJMje7s.js";import{u as wt}from"./index-BheFElWv.js";import{t as kt}from"./error-Cq9Fpw4b.js";import{u as Et}from"./use-form-item-Dx1Pfq_H.js";const It=(...e)=>n=>{e.forEach(u=>{qe(u)?u(n):u.value=n})},$t=(e,n,u,c)=>{let i={offsetX:0,offsetY:0};const d=a=>{const y=a.clientX,r=a.clientY,{offsetX:f,offsetY:p}=i,_=e.value.getBoundingClientRect(),v=_.left,k=_.top,C=_.width,M=_.height,B=document.documentElement.clientWidth,b=document.documentElement.clientHeight,R=-v+f,A=-k+p,P=B-v-C+f,z=b-k-M+p,E=g=>{let S=f+g.clientX-y,F=p+g.clientY-r;c!=null&&c.value||(S=Math.min(Math.max(S,R),P),F=Math.min(Math.max(F,A),z)),i={offsetX:S,offsetY:F},e.value&&(e.value.style.transform=`translate(${se(S)}, ${se(F)})`)},N=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",N)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",N)},m=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",d)},s=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",d)};he(()=>{Xe(()=>{u.value?m():s()})}),We(()=>{s()})},xt=(e,n={})=>{Ke(e)||kt("[useLockscreen]","You need to pass a ref param to this function");const u=n.ns||ie("popup"),c=V(()=>u.bm("parent","hidden"));if(!ve||ue(document.body,c.value))return;let i=0,d=!1,m="0";const s=()=>{setTimeout(()=>{Oe(document==null?void 0:document.body,c.value),d&&document&&(document.body.style.width=m)},200)};J(e,a=>{if(!a){s();return}d=!ue(document.body,c.value),d&&(m=document.body.style.width),i=Ye(u.namespace.value);const y=document.documentElement.clientHeight<document.body.scrollHeight,r=ze(document.body,"overflowY");i>0&&(y||r==="scroll")&&d&&(document.body.style.width=`calc(100% - ${i}px)`),Ae(document.body,c.value)}),Ge(()=>s())},Se=e=>{if(!e)return{onClick:ne,onMousedown:ne,onMouseup:ne};let n=!1,u=!1;return{onClick:m=>{n&&u&&e(m),n=u=!1},onMousedown:m=>{n=m.target===m.currentTarget},onMouseup:m=>{u=m.target===m.currentTarget}}},Mt=de({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Z([String,Array,Object])},zIndex:{type:Z([String,Number])}}),St={click:e=>e instanceof MouseEvent},Ft="overlay";var Dt=U({name:"ElOverlay",props:Mt,emits:St,setup(e,{slots:n,emit:u}){const c=ie(Ft),i=a=>{u("click",a)},{onClick:d,onMousedown:m,onMouseup:s}=Se(e.customMaskEvent?void 0:i);return()=>e.mask?o("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:m,onMouseup:s},[L(n,"default")],ae.STYLE|ae.CLASS|ae.PROPS,["onClick","onMouseup","onMousedown"]):Ze("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(n,"default")])}});const Tt=Dt,Fe=Symbol("dialogInjectionKey"),De=de({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ve},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Bt={close:()=>!0},Lt=["aria-level"],Pt=["aria-label"],zt=["id"],At=U({name:"ElDialogContent"}),Ot=U({...At,props:De,emits:Bt,setup(e){const n=e,{t:u}=wt(),{Close:c}=He,{dialogRef:i,headerRef:d,bodyId:m,ns:s,style:a}=me(Fe),{focusTrapRef:y}=me(pt),r=V(()=>[s.b(),s.is("fullscreen",n.fullscreen),s.is("draggable",n.draggable),s.is("align-center",n.alignCenter),{[s.m("center")]:n.center}]),f=It(y,i),p=V(()=>n.draggable),_=V(()=>n.overflow);return $t(i,d,p,_),(v,k)=>(h(),H("div",{ref:l(f),class:O(l(r)),style:we(l(a)),tabindex:"-1"},[w("header",{ref_key:"headerRef",ref:d,class:O([l(s).e("header"),{"show-close":v.showClose}])},[L(v.$slots,"header",{},()=>[w("span",{role:"heading","aria-level":v.ariaLevel,class:O(l(s).e("title"))},x(v.title),11,Lt)]),v.showClose?(h(),H("button",{key:0,"aria-label":l(u)("el.dialog.close"),class:O(l(s).e("headerbtn")),type:"button",onClick:k[0]||(k[0]=C=>v.$emit("close"))},[o(l(pe),{class:O(l(s).e("close"))},{default:t(()=>[(h(),$(Je(v.closeIcon||l(c))))]),_:1},8,["class"])],10,Pt)):q("v-if",!0)],2),w("div",{id:l(m),class:O(l(s).e("body"))},[L(v.$slots,"default")],10,zt),v.$slots.footer?(h(),H("footer",{key:0,class:O(l(s).e("footer"))},[L(v.$slots,"footer")],2)):q("v-if",!0)],6))}});var Vt=ge(Ot,[["__file","dialog-content.vue"]]);const Ht=de({...De,appendToBody:Boolean,appendTo:{type:Z(String),default:"body"},beforeClose:{type:Z(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Rt={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_e]:e=>Re(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Nt=(e,n)=>{var u;const i=et().emit,{nextZIndex:d}=ft();let m="";const s=fe(),a=fe(),y=I(!1),r=I(!1),f=I(!1),p=I((u=e.zIndex)!=null?u:d());let _,v;const k=Ue("namespace",Ne),C=V(()=>{const D={},j=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(D[`${j}-margin-top`]=e.top),e.width&&(D[`${j}-width`]=se(e.width))),D}),M=V(()=>e.alignCenter?{display:"flex"}:{});function B(){i("opened")}function b(){i("closed"),i(_e,!1),e.destroyOnClose&&(f.value=!1)}function R(){i("close")}function A(){v==null||v(),_==null||_(),e.openDelay&&e.openDelay>0?{stop:_}=ce(()=>N(),e.openDelay):N()}function P(){_==null||_(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=ce(()=>g(),e.closeDelay):g()}function z(){function D(j){j||(r.value=!0,y.value=!1)}e.beforeClose?e.beforeClose(D):P()}function E(){e.closeOnClickModal&&z()}function N(){ve&&(y.value=!0)}function g(){y.value=!1}function S(){i("openAutoFocus")}function F(){i("closeAutoFocus")}function Le(D){var j;((j=D.detail)==null?void 0:j.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&xt(y);function Pe(){e.closeOnPressEscape&&z()}return J(()=>e.modelValue,D=>{D?(r.value=!1,A(),f.value=!0,p.value=gt(e.zIndex)?d():p.value++,Qe(()=>{i("open"),n.value&&(n.value.scrollTop=0)})):y.value&&P()}),J(()=>e.fullscreen,D=>{n.value&&(D?(m=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=m)}),he(()=>{e.modelValue&&(y.value=!0,f.value=!0,A())}),{afterEnter:B,afterLeave:b,beforeLeave:R,handleClose:z,onModalClick:E,close:P,doClose:g,onOpenAutoFocus:S,onCloseAutoFocus:F,onCloseRequested:Pe,onFocusoutPrevented:Le,titleId:s,bodyId:a,closed:r,style:C,overlayDialogStyle:M,rendered:f,visible:y,zIndex:p}},jt=["aria-label","aria-labelledby","aria-describedby"],Ut=U({name:"ElDialog",inheritAttrs:!1}),Yt=U({...Ut,props:Ht,emits:Rt,setup(e,{expose:n}){const u=e,c=tt();Et({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},V(()=>!!c.title));const i=ie("dialog"),d=I(),m=I(),s=I(),{visible:a,titleId:y,bodyId:r,style:f,overlayDialogStyle:p,rendered:_,zIndex:v,afterEnter:k,afterLeave:C,beforeLeave:M,handleClose:B,onModalClick:b,onOpenAutoFocus:R,onCloseAutoFocus:A,onCloseRequested:P,onFocusoutPrevented:z}=Nt(u,d);ot(Fe,{dialogRef:d,headerRef:m,bodyId:r,ns:i,rendered:_,style:f});const E=Se(b),N=V(()=>u.draggable&&!u.fullscreen);return n({visible:a,dialogContentRef:s}),(g,S)=>(h(),$(at,{to:g.appendTo,disabled:g.appendTo!=="body"?!1:!g.appendToBody},[o(nt,{name:"dialog-fade",onAfterEnter:l(k),onAfterLeave:l(C),onBeforeLeave:l(M),persisted:""},{default:t(()=>[ke(o(l(Tt),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":l(v)},{default:t(()=>[w("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:l(y),"aria-describedby":l(r),class:O(`${l(i).namespace.value}-overlay-dialog`),style:we(l(p)),onClick:S[0]||(S[0]=(...F)=>l(E).onClick&&l(E).onClick(...F)),onMousedown:S[1]||(S[1]=(...F)=>l(E).onMousedown&&l(E).onMousedown(...F)),onMouseup:S[2]||(S[2]=(...F)=>l(E).onMouseup&&l(E).onMouseup(...F))},[o(l(yt),{loop:"",trapped:l(a),"focus-start-el":"container",onFocusAfterTrapped:l(R),onFocusAfterReleased:l(A),onFocusoutPrevented:l(z),onReleaseRequested:l(P)},{default:t(()=>[l(_)?(h(),$(Vt,lt({key:0,ref_key:"dialogContentRef",ref:s},g.$attrs,{center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:l(N),overflow:g.overflow,fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:l(B)}),Ee({header:t(()=>[g.$slots.title?L(g.$slots,"title",{key:1}):L(g.$slots,"header",{key:0,close:l(B),titleId:l(y),titleClass:l(i).e("title")})]),default:t(()=>[L(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:t(()=>[L(g.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,jt)]),_:3},8,["mask","overlay-class","z-index"]),[[Ie,l(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var qt=ge(Yt,[["__file","dialog.vue"]]);const Te=je(qt);function Be(){const e=G({id:null,title:"",description:""}),n=G({body:"",parent_id:null,idea:null}),u=G({title:[{required:!0,message:"Please input title",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}],description:[{required:!1,message:"Please input description",trigger:"blur"}]}),c=I(!1),i=I(!1),d=I(!1);return{ideaForm:e,ideaCommentForm:n,rules:u,ideaModalVisible:c,ideaEditModalVisible:i,ideaCommentModalVisible:d,showIdeaModal:(f=!0)=>{e.id=null,e.title="",e.description="",c.value=f},showIdeaEditModal:(f=!0,p=null)=>{p&&(e.id=p.id,e.title=p.title,e.description=p.description),i.value=f},showIdeaCommentModal:(f=!0,p=null,_=null)=>{n.idea=p??null,n.parent_id=_??null,n.body="",d.value=f},cancelEvent:()=>{console.log("cancel!")},resetForm:f=>{f&&f.resetFields()}}}const Xt={class:"dialog-footer"},Io=U({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:n}){const{rules:u}=Be(),c=I(!0),i=I(),d=n,m=()=>{d("close")},a=I(e.ideaForm);return(y,r)=>{const f=Ce,p=ye,_=be,v=re,k=Te;return h(),$(k,{modelValue:c.value,"onUpdate:modelValue":r[5]||(r[5]=C=>c.value=C),title:e.title,onClose:m,style:{"border-radius":"5px"}},{footer:t(()=>[w("span",Xt,[o(v,{onClick:r[3]||(r[3]=C=>y.$emit("reset",i.value)),round:""},{default:t(()=>[T("Reset")]),_:1}),o(v,{type:"primary",onClick:r[4]||(r[4]=C=>y.$emit("submit",i.value,a.value)),round:"",disabled:!a.value.title||e.submitting},{default:t(()=>[T(x(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:t(()=>[o(_,{ref_key:"formRefComputed",ref:i,model:a.value,rules:l(u),"status-icon":"",onSubmit:r[2]||(r[2]=$e(()=>{},["prevent"]))},{default:t(()=>[o(p,{label:"Title",prop:"title",required:""},{default:t(()=>[o(f,{modelValue:a.value.title,"onUpdate:modelValue":r[0]||(r[0]=C=>a.value.title=C),autocomplete:"off",placeholder:"Idea short title",clearable:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Description (optional)",prop:"description"},{default:t(()=>[o(f,{modelValue:a.value.description,"onUpdate:modelValue":r[1]||(r[1]=C=>a.value.description=C),rows:2,type:"textarea",placeholder:"Describe your idea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),K={__name:"Tooltip",props:["placement","content"],setup(e){return(n,u)=>{const c=bt;return h(),$(c,{class:"box-item",effect:"dark",content:e.content,placement:e.placement},{default:t(()=>[L(n.$slots,"default")]),_:3},8,["content","placement"])}}},W=e=>(rt("data-v-8ea917c8"),e=e(),ut(),e),Wt=W(()=>w("hr",null,null,-1)),Kt=W(()=>w("li",{class:"icon-pointer",style:{color:"#ff1100"}},"Delete",-1)),Gt=W(()=>w("hr",null,null,-1)),Zt=W(()=>w("li",{class:"icon-pointer",style:{color:"#e72121"}},"Report",-1)),Jt=W(()=>w("span",null,"...",-1)),Qt={class:"idea-desc"},eo={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","deleteIdeaHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler"],setup(e){const n=le(),{cancelEvent:u}=Be(),c=I(!1),i=I(!1),d=I(""),m=async s=>{if(!c.value&&!d.value){i.value=!0;try{const a=await Ct.ideas.show(s.id);d.value=a.data.description}catch(a){console.error("Failed to fetch idea description:",a)}finally{i.value=!1}}c.value=!c.value};return(s,a)=>{const y=ee,r=Me,f=te,p=pe,_=vt,v=oe,k=_t,C=st("icon-svg"),M=ht,B=xe;return h(),H(X,null,[o(v,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(Y,null,{reference:t(()=>[o(y,{size:20,src:l(n).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var b;return[w("p",null,x((b=e.idea.author)==null?void 0:b.name),1)]}),_:1}),o(r,{size:"small",class:"icon-pointer"},{default:t(()=>[o(Y,null,{reference:t(()=>{var b;return[w("span",null,x((b=e.idea.author)==null?void 0:b.name),1)]}),default:t(()=>{var b;return[w("div",null,[w("p",null,x((b=e.idea.author)==null?void 0:b.name),1)])]}),_:1})]),_:1})]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(r,{size:"small"},{default:t(()=>[T(x(e.idea.created_at),1)]),_:1}),o(Y,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:t(()=>[o(p,{size:"20",class:"icon-pointer ml-1"},{default:t(()=>[o(l(it))]),_:1})]),default:t(()=>[w("ul",null,[l(n).isAuthorOfIdea(e.idea)?(h(),H(X,{key:0},[w("li",{class:"icon-pointer",onClick:a[0]||(a[0]=b=>s.$emit("showEditModalHandler",!0,e.idea))},"Edit"),Wt,o(_,{"confirm-button-text":"Yes","cancel-button-text":"No","icon-color":"#626AEF",title:"Are you sure to delete this?",onConfirm:a[1]||(a[1]=b=>s.$emit("deleteIdeaHandler",e.idea.id)),onCancel:l(u)},{reference:t(()=>[Kt]),_:1},8,["onCancel"]),Gt],64)):q("",!0),Zt])]),_:1})]),_:1})]),_:1}),o(v,{justify:"center",align:"middle",gutter:12,class:"flex-col"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12,class:"idea-title",onClick:a[2]||(a[2]=b=>m(e.idea))},{default:t(()=>[o(r,null,{default:t(()=>[T(x(e.idea.title)+" ",1),Jt]),_:1})]),_:1}),o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(k,null,{default:t(()=>[ke(w("div",Qt,[i.value?(h(),$(r,{key:0},{default:t(()=>[T("Loading...")]),_:1})):(h(),$(r,{key:1},{default:t(()=>[T(x(d.value),1)]),_:1}))],512),[[Ie,c.value]])]),_:1})]),_:1})]),_:1}),o(v,{justify:"center",align:"middle",gutter:12,class:"mt-5"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(M,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item",type:"success"},{default:t(()=>[o(K,{content:l(n).hasUpvotedIdea(e.idea)?"Liked":"Like",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:a[3]||(a[3]=b=>s.$emit("voteUpHandler",e.idea))},{default:t(()=>[l(n).hasUpvotedIdea(e.idea)?(h(),$(C,{key:0,name:"like-solid"})):(h(),$(C,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),o(M,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item"},{default:t(()=>[o(K,{content:l(n).hasDownvotedIdea(e.idea)?"Disliked":"Dislike",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2",onClick:a[4]||(a[4]=b=>s.$emit("voteDownHandler",e.idea))},{default:t(()=>[l(n).hasDownvotedIdea(e.idea)?(h(),$(C,{key:0,name:"dislike-solid"})):(h(),$(C,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(M,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"item",type:"info"},{default:t(()=>[o(K,{content:"Comment",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:a[5]||(a[5]=b=>s.$emit("showCommentModalHandler",!0,e.idea))},{default:t(()=>[o(l(dt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),o(K,{content:l(n).hasFavoritedIdea(e.idea)?"Saved":"Save",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 ml-2",onClick:a[6]||(a[6]=b=>s.$emit("favoriteIdeaHandler",e.idea))},{default:t(()=>[l(n).hasFavoritedIdea(e.idea)?(h(),$(C,{key:0,name:"save-solid"})):(h(),$(C,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),o(v,{justify:"center",align:"top",gutter:12,class:"default-row"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(B)]),_:1})]),_:1})],64)}}},$o=Q(eo,[["__scopeId","data-v-8ea917c8"]]),to={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const n=le();return(u,c)=>{const i=ee,d=te,m=re,s=oe,a=xe;return l(n).isGuest?q("",!0):(h(),H(X,{key:0},[o(s,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(d,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(i,{size:20,src:l(n).avatar},null,8,["src"])]),_:1}),o(d,{xs:7,sm:7,md:8,lg:8,xl:8,onClick:c[0]||(c[0]=y=>u.$emit("showModal")),class:"idea-flex-center-col new-idea-text"},{default:t(()=>[T(" New Idea... ")]),_:1}),o(d,{xs:3,sm:3,md:2,lg:2,xl:2,class:"flex-end-col"},{default:t(()=>[o(m,{type:"primary",onClick:c[1]||(c[1]=y=>u.$emit("showModal")),round:"",disabled:""},{default:t(()=>[T("Post")]),_:1})]),_:1})]),_:1}),o(s,{justify:"center",align:"middle",gutter:12,class:"default-row"},{default:t(()=>[o(d,{xs:12,sm:12,md:12},{default:t(()=>[o(a)]),_:1})]),_:1})],64))}}},xo=Q(to,[["__scopeId","data-v-99606c53"]]),oo={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const n=le();return(u,c)=>{const i=ee,d=Me,m=te,s=oe;return h(),H(X,null,[o(s,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:t(()=>[o(Y,null,{reference:t(()=>[o(i,{size:20,src:l(n).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>[w("p",null,x(e.comment.author.name),1)]),_:1}),o(d,{size:"small",class:"icon-pointer"},{default:t(()=>[o(Y,null,{reference:t(()=>[w("span",null,x(e.comment.author.name),1)]),default:t(()=>[w("div",null,[w("p",null,x(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:t(()=>[o(d,{size:"small"},{default:t(()=>[T(x(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),o(s,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:t(()=>[o(d,null,{default:t(()=>[T(x(e.comment.body),1)]),_:1})]),_:1})],64)}}},lo=Q(oo,[["__scopeId","data-v-512045ff"]]),no={class:"idea-comment-container"},ao=U({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:n}){const u=le(),{isGuest:c,avatar:i}=ct(u),d=I(!0),m=I(),s=n,a=()=>{s("close")},y=e,r=G(y.ideaCommentForm),f=I([{required:!0,message:"Please input comment",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}]),p=I(y.ideaCommentForm.idea.comments||[]),_=()=>{s("delete-comment-handler")};return J(()=>y.ideaCommentForm.idea.comments,v=>{console.log(v)},{deep:!0,immediate:!0}),(v,k)=>{const C=ee,M=te,B=Ce,b=ye,R=re,A=oe,P=be,z=Te;return h(),$(z,{modelValue:d.value,"onUpdate:modelValue":k[3]||(k[3]=E=>d.value=E),title:"Idea Comments",onClose:a,style:{"border-radius":"5px"}},Ee({default:t(()=>[w("div",no,[(h(!0),H(X,null,mt(p.value,E=>(h(),$(lo,{key:E.id,comment:E,submitting:e.submitting,onDeleteCommentHandler:_},null,8,["comment","submitting"]))),128))])]),_:2},[l(c)?void 0:{name:"footer",fn:t(()=>[o(P,{ref_key:"ideaCommentFormRef",ref:m,model:r,"status-icon":"",onSubmit:k[2]||(k[2]=$e(()=>{},["prevent"]))},{default:t(()=>[o(A,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(M,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(Y,null,{reference:t(()=>[o(C,{size:20,src:l(i),class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var E;return[w("p",null,x((E=r.idea.author)==null?void 0:E.name),1)]}),_:1})]),_:1}),o(M,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:t(()=>[o(b,{prop:"body",required:"",rules:f.value},{default:t(()=>[o(B,{modelValue:r.body,"onUpdate:modelValue":k[0]||(k[0]=E=>r.body=E),autocomplete:"off",placeholder:"Add a comment...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),o(M,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(b,null,{default:t(()=>[o(R,{type:"primary",onClick:k[1]||(k[1]=E=>v.$emit("submit",m.value,r)),round:"",disabled:!r.body||e.submitting},{default:t(()=>[T(x(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}}),Mo=Q(ao,[["__scopeId","data-v-258f4883"]]);export{Mo as I,xo as P,Io as _,$o as a,Be as u};
