import{W as Ge,s as oe,ab as Ke,aa as We,al as Xe,j as O,q as J,av as Qe,aw as ie,ax as ge,m as C,L as B,o as h,c as x,w as a,u as n,f as z,S as ne,n as L,e as ue,r as M,a as i,ay as Ze,g as j,z as ce,V as we,az as Je,aq as et,N as ye,b as f,t as $,U as ke,B as tt,a5 as ot,$ as nt,R as at,h as Ee,at as xe,y as Te,A as st,a6 as X,d as V,_ as ae,af as lt,i as re,aA as it,F as me,aB as rt,D as Se,E as Ie,aC as dt,p as ut,x as ct,Q as be,ak as mt}from"./app-Ugu9MV1i.js";import{m as de,f as $e,h as he,g as ft,w as pt,y as vt,F as gt,E as fe,b as se,d as ee,k as yt,u as bt,G as ht,l as _t,H as _e,a as Ct}from"./index-Dijvbhd9.js";import{h as wt,k as kt,l as Et,d as xt,c as Tt}from"./use-global-config-DhWqsYnV.js";import{t as Me,U as Be}from"./event-BGsaiZ_k.js";import{u as P,_ as K,w as pe,d as St}from"./plugin-vue_export-helper-CdpdoBDk.js";/* empty css             */import{b as Ce,a as It,E as ve}from"./el-button-D_FPi3ga.js";import{g as $t,T as Mt,E as He,a as De,b as Ae}from"./TextEditor-aiXH6Ze7.js";import{E as Bt}from"./el-popconfirm-BYyqJqMD.js";import{F as Ht,d as Dt,e as At}from"./el-popper-Boe1LXo1.js";/* empty css                   */import{_ as te,E as Le}from"./el-avatar-Bp1R2_MA.js";import{u as le}from"./UserStore-C8M5ePU2.js";import{a as Lt}from"./api-Bd-0tR9N.js";import{E as Ot}from"./helpers-B8x154q-.js";import{E as Oe,a as Ne}from"./el-col-Cl4KUwwf.js";const Nt=(...e)=>o=>{e.forEach(r=>{Ge(r)?r(o):r.value=o})};var Q=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Q||{});const zt=(e,o,r,s)=>{let t={offsetX:0,offsetY:0};const l=c=>{const p=c.clientX,y=c.clientY,{offsetX:_,offsetY:v}=t,g=e.value.getBoundingClientRect(),m=g.left,w=g.top,T=g.width,E=g.height,A=document.documentElement.clientWidth,N=document.documentElement.clientHeight,S=-m+_,U=-w+v,R=A-m-T+_,F=N-w-E+v,k=b=>{let I=_+b.clientX-p,H=v+b.clientY-y;s!=null&&s.value||(I=Math.min(Math.max(I,S),R),H=Math.min(Math.max(H,U),F)),t={offsetX:I,offsetY:H},e.value&&(e.value.style.transform=`translate(${de(I)}, ${de(H)})`)},Y=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",Y)},u=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",l)},d=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",l)};oe(()=>{Ke(()=>{r.value?u():d()})}),We(()=>{d()})},Rt=(e,o={})=>{Xe(e)||Me("[useLockscreen]","You need to pass a ref param to this function");const r=o.ns||P("popup"),s=O(()=>r.bm("parent","hidden"));if(!$e||he(document.body,s.value))return;let t=0,l=!1,u="0";const d=()=>{setTimeout(()=>{vt(document==null?void 0:document.body,s.value),l&&document&&(document.body.style.width=u)},200)};J(e,c=>{if(!c){d();return}l=!he(document.body,s.value),l&&(u=document.body.style.width),t=$t(r.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,y=ft(document.body,"overflowY");t>0&&(p||y==="scroll")&&l&&(document.body.style.width=`calc(100% - ${t}px)`),pt(document.body,s.value)}),Qe(()=>d())},ze=e=>{if(!e)return{onClick:ie,onMousedown:ie,onMouseup:ie};let o=!1,r=!1;return{onClick:u=>{o&&r&&e(u),o=r=!1},onMousedown:u=>{o=u.target===u.currentTarget},onMouseup:u=>{r=u.target===u.currentTarget}}},Ft={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Ut={click:e=>e instanceof MouseEvent},Vt=(e,o,r)=>{const s=ge(),t=ge(),l=C(!1),u=()=>{s.value&&(l.value=s.value.scrollTop>=e.visibilityHeight)},d=p=>{var y;(y=s.value)==null||y.scrollTo({top:0,behavior:"smooth"}),o("click",p)},c=gt(u,300,!0);return wt(t,"scroll",c),oe(()=>{var p;t.value=document,s.value=document.documentElement,e.target&&(s.value=(p=document.querySelector(e.target))!=null?p:void 0,s.value||Me(r,`target does not exist: ${e.target}`),t.value=s.value),u()}),{visible:l,handleClick:d}},Re="ElBacktop",Yt=B({name:Re}),qt=B({...Yt,props:Ft,emits:Ut,setup(e,{emit:o}){const r=e,s=P("backtop"),{handleClick:t,visible:l}=Vt(r,o,Re),u=O(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(d,c)=>(h(),x(ce,{name:`${n(s).namespace.value}-fade-in`},{default:a(()=>[n(l)?(h(),z("div",{key:0,style:ne(n(u)),class:L(n(s).b()),onClick:c[0]||(c[0]=ue((...p)=>n(t)&&n(t)(...p),["stop"]))},[M(d.$slots,"default",{},()=>[i(n(fe),{class:L(n(s).e("icon"))},{default:a(()=>[i(n(Ze))]),_:1},8,["class"])])],6)):j("v-if",!0)]),_:3},8,["name"]))}});var jt=K(qt,[["__file","backtop.vue"]]);const yn=pe(jt),Pt=B({name:"ElCollapseTransition"}),Gt=B({...Pt,setup(e){const o=P("collapse-transition"),r=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},s={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){r(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){r(t)},leaveCancelled(t){r(t)}};return(t,l)=>(h(),x(ce,we({name:n(o).b()},Je(s)),{default:a(()=>[M(t.$slots,"default")]),_:3},16,["name"]))}});var Z=K(Gt,[["__file","collapse-transition.vue"]]);Z.install=e=>{e.component(Z.name,Z)};const Kt=Z,Wt=Kt,Xt=se({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ee([String,Array,Object])},zIndex:{type:ee([String,Number])}}),Qt={click:e=>e instanceof MouseEvent},Zt="overlay";var Jt=B({name:"ElOverlay",props:Xt,emits:Qt,setup(e,{slots:o,emit:r}){const s=P(Zt),t=c=>{r("click",c)},{onClick:l,onMousedown:u,onMouseup:d}=ze(e.customMaskEvent?void 0:t);return()=>e.mask?i("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:u,onMouseup:d},[M(o,"default")],Q.STYLE|Q.CLASS|Q.PROPS,["onClick","onMouseup","onMousedown"]):et("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[M(o,"default")])}});const eo=Jt,Fe=Symbol("dialogInjectionKey"),Ue=se({center:Boolean,alignCenter:Boolean,closeIcon:{type:yt},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},oo=["aria-level"],no=["aria-label"],ao=["id"],so=B({name:"ElDialogContent"}),lo=B({...so,props:Ue,emits:to,setup(e){const o=e,{t:r}=bt(),{Close:s}=ht,{dialogRef:t,headerRef:l,bodyId:u,ns:d,style:c}=ye(Fe),{focusTrapRef:p}=ye(Ht),y=O(()=>[d.b(),d.is("fullscreen",o.fullscreen),d.is("draggable",o.draggable),d.is("align-center",o.alignCenter),{[d.m("center")]:o.center}]),_=Nt(p,t),v=O(()=>o.draggable),g=O(()=>o.overflow);return zt(t,l,v,g),(m,w)=>(h(),z("div",{ref:n(_),class:L(n(y)),style:ne(n(c)),tabindex:"-1"},[f("header",{ref_key:"headerRef",ref:l,class:L([n(d).e("header"),{"show-close":m.showClose}])},[M(m.$slots,"header",{},()=>[f("span",{role:"heading","aria-level":m.ariaLevel,class:L(n(d).e("title"))},$(m.title),11,oo)]),m.showClose?(h(),z("button",{key:0,"aria-label":n(r)("el.dialog.close"),class:L(n(d).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=T=>m.$emit("close"))},[i(n(fe),{class:L(n(d).e("close"))},{default:a(()=>[(h(),x(ke(m.closeIcon||n(s))))]),_:1},8,["class"])],10,no)):j("v-if",!0)],2),f("div",{id:n(u),class:L(n(d).e("body"))},[M(m.$slots,"default")],10,ao),m.$slots.footer?(h(),z("footer",{key:0,class:L(n(d).e("footer"))},[M(m.$slots,"footer")],2)):j("v-if",!0)],6))}});var io=K(lo,[["__file","dialog-content.vue"]]);const ro=se({...Ue,appendToBody:Boolean,appendTo:{type:ee(String),default:"body"},beforeClose:{type:ee(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Be]:e=>_t(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,o)=>{var r;const t=ot().emit,{nextZIndex:l}=kt();let u="";const d=Ce(),c=Ce(),p=C(!1),y=C(!1),_=C(!1),v=C((r=e.zIndex)!=null?r:l());let g,m;const w=Et("namespace",St),T=O(()=>{const D={},q=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(D[`${q}-margin-top`]=e.top),e.width&&(D[`${q}-width`]=de(e.width))),D}),E=O(()=>e.alignCenter?{display:"flex"}:{});function A(){t("opened")}function N(){t("closed"),t(Be,!1),e.destroyOnClose&&(_.value=!1)}function S(){t("close")}function U(){m==null||m(),g==null||g(),e.openDelay&&e.openDelay>0?{stop:g}=_e(()=>Y(),e.openDelay):Y()}function R(){g==null||g(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=_e(()=>b(),e.closeDelay):b()}function F(){function D(q){q||(y.value=!0,p.value=!1)}e.beforeClose?e.beforeClose(D):R()}function k(){e.closeOnClickModal&&F()}function Y(){$e&&(p.value=!0)}function b(){p.value=!1}function I(){t("openAutoFocus")}function H(){t("closeAutoFocus")}function je(D){var q;((q=D.detail)==null?void 0:q.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&Rt(p);function Pe(){e.closeOnPressEscape&&F()}return J(()=>e.modelValue,D=>{D?(y.value=!1,U(),_.value=!0,v.value=Dt(e.zIndex)?l():v.value++,tt(()=>{t("open"),o.value&&(o.value.scrollTop=0)})):p.value&&R()}),J(()=>e.fullscreen,D=>{o.value&&(D?(u=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=u)}),oe(()=>{e.modelValue&&(p.value=!0,_.value=!0,U())}),{afterEnter:A,afterLeave:N,beforeLeave:S,handleClose:F,onModalClick:k,close:R,doClose:b,onOpenAutoFocus:I,onCloseAutoFocus:H,onCloseRequested:Pe,onFocusoutPrevented:je,titleId:d,bodyId:c,closed:y,style:T,overlayDialogStyle:E,rendered:_,visible:p,zIndex:v}},mo=["aria-label","aria-labelledby","aria-describedby"],fo=B({name:"ElDialog",inheritAttrs:!1}),po=B({...fo,props:ro,emits:uo,setup(e,{expose:o}){const r=e,s=nt();xt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!s.title));const t=P("dialog"),l=C(),u=C(),d=C(),{visible:c,titleId:p,bodyId:y,style:_,overlayDialogStyle:v,rendered:g,zIndex:m,afterEnter:w,afterLeave:T,beforeLeave:E,handleClose:A,onModalClick:N,onOpenAutoFocus:S,onCloseAutoFocus:U,onCloseRequested:R,onFocusoutPrevented:F}=co(r,l);at(Fe,{dialogRef:l,headerRef:u,bodyId:y,ns:t,rendered:g,style:_});const k=ze(N),Y=O(()=>r.draggable&&!r.fullscreen);return o({visible:c,dialogContentRef:d}),(b,I)=>(h(),x(st,{to:b.appendTo,disabled:b.appendTo!=="body"?!1:!b.appendToBody},[i(ce,{name:"dialog-fade",onAfterEnter:n(w),onAfterLeave:n(T),onBeforeLeave:n(E),persisted:""},{default:a(()=>[Ee(i(n(eo),{"custom-mask-event":"",mask:b.modal,"overlay-class":b.modalClass,"z-index":n(m)},{default:a(()=>[f("div",{role:"dialog","aria-modal":"true","aria-label":b.title||void 0,"aria-labelledby":b.title?void 0:n(p),"aria-describedby":n(y),class:L(`${n(t).namespace.value}-overlay-dialog`),style:ne(n(v)),onClick:I[0]||(I[0]=(...H)=>n(k).onClick&&n(k).onClick(...H)),onMousedown:I[1]||(I[1]=(...H)=>n(k).onMousedown&&n(k).onMousedown(...H)),onMouseup:I[2]||(I[2]=(...H)=>n(k).onMouseup&&n(k).onMouseup(...H))},[i(n(At),{loop:"",trapped:n(c),"focus-start-el":"container",onFocusAfterTrapped:n(S),onFocusAfterReleased:n(U),onFocusoutPrevented:n(F),onReleaseRequested:n(R)},{default:a(()=>[n(g)?(h(),x(io,we({key:0,ref_key:"dialogContentRef",ref:d},b.$attrs,{center:b.center,"align-center":b.alignCenter,"close-icon":b.closeIcon,draggable:n(Y),overflow:b.overflow,fullscreen:b.fullscreen,"show-close":b.showClose,title:b.title,"aria-level":b.headerAriaLevel,onClose:n(A)}),xe({header:a(()=>[b.$slots.title?M(b.$slots,"title",{key:1}):M(b.$slots,"header",{key:0,close:n(A),titleId:n(p),titleClass:n(t).e("title")})]),default:a(()=>[M(b.$slots,"default")]),_:2},[b.$slots.footer?{name:"footer",fn:a(()=>[M(b.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,mo)]),_:3},8,["mask","overlay-class","z-index"]),[[Te,n(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var vo=K(po,[["__file","dialog.vue"]]);const Ve=pe(vo),go=se({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Tt,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),yo=B({name:"ElText"}),bo=B({...yo,props:go,setup(e){const o=e,r=It(),s=P("text"),t=O(()=>[s.b(),s.m(o.type),s.m(r.value),s.is("truncated",o.truncated),s.is("line-clamp",!Ct(o.lineClamp))]);return(l,u)=>(h(),x(ke(l.tag),{class:L(n(t)),style:ne({"-webkit-line-clamp":l.lineClamp})},{default:a(()=>[M(l.$slots,"default")]),_:3},8,["class","style"]))}});var ho=K(bo,[["__file","text.vue"]]);const Ye=pe(ho);function qe(){const e=X({id:null,title:"",description:""}),o=X({body:"",parent_id:null,idea:null}),r=X({title:[{required:!0,message:"Iltimos, sarlavhani kiriting",trigger:"blur"},{min:3,max:255,message:"Uzunlik 3 dan 255 gacha bo'lishi kerak",trigger:"blur"}],description:[{required:!1,message:"Iltimos, tavsifni kiriting",trigger:"blur"}]}),s=C(!1),t=C(!1),l=C(!1);return{ideaForm:e,ideaCommentForm:o,rules:r,ideaModalVisible:s,ideaEditModalVisible:t,ideaCommentModalVisible:l,showIdeaModal:(_=!0)=>{e.id=null,e.title="",e.description="",s.value=_},showIdeaEditModal:(_=!0,v=null)=>{v&&(e.id=v.id,e.title=v.title,e.description=v.description),t.value=_},showIdeaCommentModal:(_=!0,v=null,g=null)=>{o.idea=v??null,o.parent_id=g??null,o.body="",l.value=_},cancelEvent:()=>{console.log("cancel!")},resetForm:_=>{_&&_.resetFields()}}}const _o={class:"dialog-footer"},bn=B({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:o}){const{rules:r}=qe(),s=C(!0),t=C(!1),l=C(null),u=C(),d=()=>{l.value.getContent().content.length===1&&typeof l.value.getContent().content[0].content>"u"?v.value.description=null:v.value.description=l.value.getContent()};function c(g){return g.description=l.value.getContentAsHTML(),g}const p=o,y=()=>{p("close")},v=C(e.ideaForm);return(g,m)=>{const w=He,T=De,E=Ae,A=ve,N=Ve;return h(),x(N,{modelValue:s.value,"onUpdate:modelValue":m[4]||(m[4]=S=>s.value=S),title:e.title,onClose:y,style:{"border-radius":"5px"}},{footer:a(()=>[f("span",_o,[i(A,{onClick:m[2]||(m[2]=S=>g.$emit("reset",u.value)),round:""},{default:a(()=>[V("Qayta tiklash")]),_:1}),i(A,{type:"primary",onClick:m[3]||(m[3]=S=>g.$emit("submit",u.value,c(v.value))),round:"",disabled:!v.value.title||e.submitting},{default:a(()=>[V($(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:a(()=>[i(E,{ref_key:"formRefComputed",ref:u,model:v.value,rules:n(r),"status-icon":"",onSubmit:m[1]||(m[1]=ue(()=>{},["prevent"]))},{default:a(()=>[i(T,{label:"Sarlavha",prop:"title",required:""},{default:a(()=>[i(w,{modelValue:v.value.title,"onUpdate:modelValue":m[0]||(m[0]=S=>v.value.title=S),autocomplete:"off",placeholder:"G'oyaning qisqa sarlavhasi",clearable:""},null,8,["modelValue"])]),_:1}),i(T,{label:"G'oyangizni tasvirlang",prop:"description"},{default:a(()=>[i(Mt,{ref_key:"editorRef",ref:l,content:v.value.description,editable:!t.value,onOnChange:d},null,8,["content","editable"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),Co={class:"hs-tooltip inline-block"},wo={class:"hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity inline-block absolute invisible z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded shadow-sm dark:bg-neutral-700",role:"tooltip"},W={__name:"Tooltip",props:["placement","content"],setup(e){return(o,r)=>(h(),z("div",Co,[M(o.$slots,"default"),f("span",wo,$(e.content),1)]))}},G=e=>(Se("data-v-11828924"),e=e(),Ie(),e),ko={class:"p-4 bg-white border border-green-100 rounded-xl dark:bg-neutral-800 dark:border-neutral-700"},Eo={class:"grid grid-cols-1 lg:gap-y-0 lg:gap-x-5"},xo={class:"flex flex-row items-center gap-x-3 mb-2"},To=G(()=>f("img",{class:"size-10 rounded-full",src:"https://images.unsplash.com/photo-1659482633369-9fe69af50bfb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2.5&w=320&h=320&q=80",alt:"Avatar"},null,-1)),So={class:"group-hover:text-gray-600 group-focus:text-gray-600 text-sm font-semibold text-gray-800 dark:group-hover:text-neutral-400 dark:group-focus:text-neutral-400 dark:text-neutral-200"},Io={class:"flex justify-end"},$o={class:"relative"},Mo=G(()=>f("hr",null,null,-1)),Bo=G(()=>f("li",{class:"icon-pointer",style:{color:"#ff1100"}},"O'chirish",-1)),Ho=G(()=>f("hr",null,null,-1)),Do=G(()=>f("li",{class:"icon-pointer",style:{color:"#e72121"}},"Shikoyat qilish",-1)),Ao={class:"grid grid-cols-1 gap-y-2 lg:gap-y-0 lg:gap-x-5"},Lo={class:"text-md text-dark-500 dark:text-neutral-200"},Oo=G(()=>f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-ellipsis"},[f("circle",{cx:"12",cy:"12",r:"1"}),f("circle",{cx:"19",cy:"12",r:"1"}),f("circle",{cx:"5",cy:"12",r:"1"})],-1)),No={class:"mb-4"},zo={class:"idea-desc"},Ro={class:"grid grid-cols-2 lg:gap-y-0 lg:gap-x-5"},Fo={class:"absolute"},Uo={class:"flex justify-end items-center flex-wrap gap-x-1"},Vo={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","deleteIdeaHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler"],setup(e){const o=le(),{cancelEvent:r}=qe(),s=C(!1),t=C(!1),l=C(""),u=async d=>{if(!s.value&&!l.value){t.value=!0;try{const c=await Lt.ideas.show(d.id);l.value=c.data.description}catch(c){console.error("G'oyaning tavsifini olishda xatolik:",c)}finally{t.value=!1}}s.value=!s.value};return(d,c)=>{var w,T;const p=Ye,y=fe,_=Bt,v=Wt,g=lt("icon-svg"),m=Ot;return h(),z("div",ko,[f("div",Eo,[f("div",xo,[i(n(re),{href:d.route("user.profile",(w=e.idea.author)==null?void 0:w.id),class:"block shrink-0 focus:outline-none"},{default:a(()=>[To]),_:1},8,["href"]),i(n(re),{class:"grow block focus:outline-none",href:d.route("user.profile",(T=e.idea.author)==null?void 0:T.id)},{default:a(()=>{var E;return[f("h5",So,$((E=e.idea.author)==null?void 0:E.name),1)]}),_:1},8,["href"]),f("div",Io,[i(p,{size:"small"},{default:a(()=>[V($(e.idea.created_at),1)]),_:1}),f("div",$o,[i(te,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:a(()=>[i(y,{size:"20",class:"icon-pointer ml-1"},{default:a(()=>[i(n(it))]),_:1})]),default:a(()=>[f("ul",null,[n(o).isAuthorOfIdea(e.idea)?(h(),z(me,{key:0},[f("li",{class:"icon-pointer",onClick:c[0]||(c[0]=E=>d.$emit("showEditModalHandler",!0,e.idea))},"Tahrirlash"),Mo,i(_,{"confirm-button-text":"Ha","cancel-button-text":"Yo'q","icon-color":"#626AEF",title:"O'chirishni tasdiqlaysizmi?",onConfirm:c[1]||(c[1]=E=>d.$emit("deleteIdeaHandler",e.idea.id)),onCancel:n(r)},{reference:a(()=>[Bo]),_:1},8,["onCancel"]),Ho],64)):j("",!0),Do])]),_:1})])])])]),f("div",Ao,[f("div",{class:"idea-title flex justify-center items-center gap-x-0.5",onClick:c[2]||(c[2]=E=>u(e.idea))},[f("p",Lo,$(e.idea.title),1),Oo]),f("div",No,[i(v,null,{default:a(()=>[Ee(f("div",zo,[t.value?(h(),x(p,{key:0},{default:a(()=>[V("Yuklanmoqda...")]),_:1})):(h(),x(p,{key:1,innerHTML:l.value},null,8,["innerHTML"]))],512),[[Te,s.value]])]),_:1})])]),f("div",Ro,[f("div",null,[f("div",Fo,[i(m,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item",type:"success"},{default:a(()=>[i(W,{content:(n(o).hasUpvotedIdea(e.idea),"👍"),placement:"top"},{default:a(()=>[i(y,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:c[3]||(c[3]=E=>d.$emit("voteUpHandler",e.idea))},{default:a(()=>[n(o).hasUpvotedIdea(e.idea)?(h(),x(g,{key:0,name:"like-solid"})):(h(),x(g,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),i(m,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item"},{default:a(()=>[i(W,{content:(n(o).hasDownvotedIdea(e.idea),"👎"),placement:"top"},{default:a(()=>[i(y,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2",onClick:c[4]||(c[4]=E=>d.$emit("voteDownHandler",e.idea))},{default:a(()=>[n(o).hasDownvotedIdea(e.idea)?(h(),x(g,{key:0,name:"dislike-solid"})):(h(),x(g,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])])]),f("div",Uo,[i(m,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"tooltip-base-box",type:"info"},{default:a(()=>[i(W,{content:"Izoh",placement:"top"},{default:a(()=>[i(y,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:c[5]||(c[5]=E=>d.$emit("showCommentModalHandler",!0,e.idea))},{default:a(()=>[i(n(rt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),i(W,{content:n(o).hasFavoritedIdea(e.idea)?"Saqlangan":"Saqlash",placement:"top"},{default:a(()=>[i(y,{size:"20",class:"icon-pointer mt-0.5 ml-2",onClick:c[6]||(c[6]=E=>d.$emit("favoriteIdeaHandler",e.idea))},{default:a(()=>[n(o).hasFavoritedIdea(e.idea)?(h(),x(g,{key:0,name:"save-solid"})):(h(),x(g,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])])])])}}},hn=ae(Vo,[["__scopeId","data-v-11828924"]]),Yo=e=>(Se("data-v-dedba396"),e=e(),Ie(),e),qo={key:0,class:"pb-1 px-4 mb-2 grid grid-cols-3 gap-y-2 lg:gap-y-0 lg:gap-x-5 border-b border-gray-200 dark:border-neutral-700"},jo={class:"flex-grow-0"},Po=Yo(()=>f("img",{class:"size-10 rounded-full",src:"https://images.unsplash.com/photo-1659482633369-9fe69af50bfb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2.5&w=320&h=320&q=80",alt:"Avatar"},null,-1)),Go={class:"flex justify-end items-center flex-wrap gap-x-1"},Ko={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const o=le();return(r,s)=>{var l;const t=ve;return n(o).isGuest?j("",!0):(h(),z("div",qo,[f("div",jo,[i(n(re),{href:r.route("user.profile",(l=n(o).authUser)==null?void 0:l.id),class:"block focus:outline-none"},{default:a(()=>[Po]),_:1},8,["href"])]),f("div",{onClick:s[0]||(s[0]=u=>r.$emit("showModal")),class:"new-idea-text flex justify-center flex-grow-2 items-center flex-wrap border border-gray-300 rounded-xl dark:border-neutral-700 gap-x-1"}," Yangi G'oya... "),f("div",Go,[i(t,{type:"primary",onClick:s[1]||(s[1]=u=>r.$emit("showModal")),round:"",disabled:""},{default:a(()=>[V("Ulashish")]),_:1})])]))}}},_n=ae(Ko,[["__scopeId","data-v-dedba396"]]),Wo={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const o=le();return(r,s)=>{const t=Le,l=Ye,u=Oe,d=Ne;return h(),z(me,null,[i(d,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:a(()=>[i(u,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:a(()=>[i(te,null,{reference:a(()=>[i(t,{size:20,src:n(o).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:a(()=>[f("p",null,$(e.comment.author.name),1)]),_:1}),i(l,{size:"small",class:"icon-pointer"},{default:a(()=>[i(te,null,{reference:a(()=>[f("span",null,$(e.comment.author.name),1)]),default:a(()=>[f("div",null,[f("p",null,$(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),i(u,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:a(()=>[i(l,{size:"small"},{default:a(()=>[V($(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),i(d,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:a(()=>[i(l,null,{default:a(()=>[V($(e.comment.body),1)]),_:1})]),_:1})],64)}}},Xo=ae(Wo,[["__scopeId","data-v-512045ff"]]),Qo={class:"idea-comment-container"},Zo=B({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:o}){const r=le(),{isGuest:s,avatar:t}=dt(r),l=C(!0),u=C(),d=o,c=()=>{d("close")},p=e,y=X(p.ideaCommentForm),_=C([{required:!0,message:"Sharhni kiriting",trigger:"blur"},{min:3,max:255,message:"Uzunligi 3 dan 255 gacha bo'lishi kerak",trigger:"blur"}]),v=C(p.ideaCommentForm.idea.comments||[]),g=()=>{d("delete-comment-handler")};return J(()=>p.ideaCommentForm.idea.comments,m=>{console.log(m),v.value=m},{deep:!0,immediate:!0}),(m,w)=>{const T=Le,E=Oe,A=He,N=De,S=ve,U=Ne,R=Ae,F=Ve;return h(),x(F,{modelValue:l.value,"onUpdate:modelValue":w[3]||(w[3]=k=>l.value=k),title:"G'oya Sharhlari",onClose:c,style:{"border-radius":"5px"}},xe({default:a(()=>[f("div",Qo,[(h(!0),z(me,null,ut(v.value,k=>(h(),x(Xo,{key:k.id,comment:k,submitting:e.submitting,onDeleteCommentHandler:g},null,8,["comment","submitting"]))),128))])]),_:2},[n(s)?void 0:{name:"footer",fn:a(()=>[i(R,{ref_key:"ideaCommentFormRef",ref:u,model:y,"status-icon":"",onSubmit:w[2]||(w[2]=ue(()=>{},["prevent"]))},{default:a(()=>[i(U,{justify:"center",align:"middle",gutter:12},{default:a(()=>[i(E,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:a(()=>[i(te,null,{reference:a(()=>[i(T,{size:20,src:n(t),class:"mr-2 icon-pointer"},null,8,["src"])]),default:a(()=>{var k;return[f("p",null,$((k=y.idea.author)==null?void 0:k.name),1)]}),_:1})]),_:1}),i(E,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:a(()=>[i(N,{prop:"body",required:"",rules:_.value},{default:a(()=>[i(A,{modelValue:y.body,"onUpdate:modelValue":w[0]||(w[0]=k=>y.body=k),autocomplete:"off",placeholder:"Sharh qo'shing...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),i(E,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:a(()=>[i(N,null,{default:a(()=>[i(S,{type:"primary",onClick:w[1]||(w[1]=k=>m.$emit("submit",u.value,y)),round:"",disabled:!y.body||e.submitting},{default:a(()=>[V($(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}}),Cn=ae(Zo,[["__scopeId","data-v-e9612c35"]]);function Jo(e,o,r={}){const s=new IntersectionObserver(t=>{t.forEach(l=>{l.isIntersecting&&o()})},r);oe(()=>{s.observe(e.value)}),ct(()=>{s.disconnect()})}function wn(e,o=null){const r=()=>be().props[e],s=C(r().data),t=be().url,l=O(()=>r().links.next!==null),u=()=>{l.value&&mt.get(r().links.next,{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{window.history.replaceState({},"",t),s.value=[...s.value,...r().data]}})};return o!==null&&Jo(o,u,{rootMargin:"0px 0px 250px 0px"}),{items:s,loadMoreItems:u,canLoadMoreItems:l}}export{yn as E,Cn as I,_n as P,bn as _,wn as a,hn as b,qe as u};
