import"./base-BOIpQ8Gr.js";import{E as P,a as L}from"./el-col-DVEbknNY.js";import{E as Q,a as z,b as A}from"./el-input-JnQRjeRi.js";import{E as Y}from"./el-button-BXGRTdPG.js";import{T as Z,E as $,a as j,b as G,c as J}from"./TextEditor-By8Q72Kl.js";import"./el-tag-CJHkoS9C.js";import"./el-scrollbar-DDrQvMRr.js";import"./el-popper-Iu0sVo4U.js";import{_ as K,Q as W,m as u,T as X,o as d,f,a as t,u as n,w as a,F as v,Z as ee,b as x,e as te,n as le,p as h,d as b,c as y,t as S,D as ae,E as oe}from"./app-BJ7AMfwr.js";import{_ as ne}from"./CabinetLayout.vue_vue_type_script_setup_true_lang-N6gOB2ra.js";import se from"./DashboardPageHeader-DJr9BNIp.js";import{u as ie}from"./helpers-T9lcjfWw.js";import"./index-CQo7SU4K.js";import"./event-BKGGIr3l.js";import"./UserStore-B47wwGXQ.js";import"./ApplicationLogo-BCPW_oq7.js";import"./el-divider-CaK_-uqk.js";const re=_=>(ae("data-v-ca3e2436"),_=_(),oe(),_),de={style:{margin:"20px 20px"}},ue=re(()=>x("span",{class:"text-large font-600 mr-3"},"Startupni Tahrirlash ðŸš€",-1)),pe={style:{padding:"20px 20px"}},me={__name:"Edit",setup(_){const{success:T,error:_e}=ie(),p=W(),k=u(p.props.startupTypes),w=u(p.props.startupStatuses.data),s=p.props.startup.data,F=u(p.props.industries.data||[]),q=u(p.props.selectedIndustries||[]),o=X({title:s.title,description:s.description,additional_information:s.additional_information,start_date:s.start_date,type:s.type,status_id:s.status.id,has_mvp:s.has_mvp,industry_ids:q.value}),I={title:[{validator:(c,l,r)=>{l===null||l===""?r(new Error("'Sarlavha' maydoni talab qilinadi.")):r()},trigger:"change"}],description:[{validator:(c,l,r)=>{l===null?r(new Error("'Tarkib' maydoni talab qilinadi.")):r()},trigger:"change"}]},C=u(!1),m=u(null),B=()=>{o.transform(c=>({...c,description:m.value.getContentAsHTML()})).put(route("dashboard.startups.update",{id:s.id}),{onSuccess:()=>{T("Startup muvaffaqiyatli yangilandi!")}})},U=()=>{m.value.getContent().content.length===1&&typeof m.value.getContent().content[0].content>"u"?o.description=null:o.description=m.value.getContent()};return(c,l)=>{const r=Q,i=z,M=$,g=J,V=j,D=G,O=Y,R=A,H=P,N=L;return d(),f(v,null,[t(n(ee),{title:"Tahrirlash: "+n(s).title},null,8,["title"]),t(ne,null,{default:a(()=>[x("div",de,[t(se,{"has-extra-slot":!0},{content:a(()=>[ue]),_:1}),x("div",pe,[t(N,{gutter:20},{default:a(()=>[t(H,{span:18,offset:3},{default:a(()=>[t(R,{ref:"startupFormRef","status-icon":"",model:n(o),rules:I,onSubmit:l[7]||(l[7]=te(()=>{},["prevent"]))},{default:a(()=>[t(i,{label:"Sarlavha",prop:"title",required:""},{default:a(()=>[t(r,{modelValue:n(o).title,"onUpdate:modelValue":l[0]||(l[0]=e=>n(o).title=e)},null,8,["modelValue"])]),_:1}),t(i,{label:"Batafsil",prop:"description",class:le(C.value?"":"required-field"),required:""},{default:a(()=>[t(Z,{ref_key:"editorRef",ref:m,content:n(o).description,editable:!C.value,onOnChange:U},null,8,["content","editable"])]),_:1},8,["class"]),t(i,{label:"Qo'shimcha Ma'lumot",prop:"additional_information"},{default:a(()=>[t(r,{modelValue:n(o).additional_information,"onUpdate:modelValue":l[1]||(l[1]=e=>n(o).additional_information=e)},null,8,["modelValue"])]),_:1}),t(i,{label:"Boshlanish Sanasi",prop:"start_date"},{default:a(()=>[t(M,{modelValue:n(o).start_date,"onUpdate:modelValue":l[2]||(l[2]=e=>n(o).start_date=e)},null,8,["modelValue"])]),_:1}),t(i,{label:"Turi"},{default:a(()=>[t(V,{modelValue:n(o).type,"onUpdate:modelValue":l[3]||(l[3]=e=>n(o).type=e)},{default:a(()=>[(d(!0),f(v,null,h(k.value,(e,E)=>(d(),y(g,{key:E,value:e.value,label:e.label},{default:a(()=>[b(S(e.label),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"Holati"},{default:a(()=>[t(V,{modelValue:n(o).status_id,"onUpdate:modelValue":l[4]||(l[4]=e=>n(o).status_id=e)},{default:a(()=>[(d(!0),f(v,null,h(w.value,(e,E)=>(d(),y(g,{key:E,value:e.id,label:e.label},{default:a(()=>[b(S(e.label),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"Sanoat tarmoqlari",required:""},{default:a(()=>[t(V,{modelValue:n(o).industry_ids,"onUpdate:modelValue":l[5]||(l[5]=e=>n(o).industry_ids=e),multiple:""},{default:a(()=>[(d(!0),f(v,null,h(F.value,e=>(d(),y(g,{key:e.id,value:e.id,label:e.title},{default:a(()=>[b(S(e.title),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"MVP versiya ishlab chiqilganmi?"},{default:a(()=>[t(D,{modelValue:n(o).has_mvp,"onUpdate:modelValue":l[6]||(l[6]=e=>n(o).has_mvp=e)},null,8,["modelValue"])]),_:1}),t(i,null,{default:a(()=>[t(O,{type:"primary",onClick:B,round:"",disabled:!n(o).title,class:"ml-2 mr-10"},{default:a(()=>[b(" Yangilash ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])])]),_:1})],64)}}},Ue=K(me,[["__scopeId","data-v-ca3e2436"]]);export{Ue as default};
