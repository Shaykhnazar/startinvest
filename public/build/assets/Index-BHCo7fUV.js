import"./base-DdetyUAM.js";import{E as B,a as $}from"./el-main-BqcIuX5I.js";import{E as F}from"./el-input-pP7IyV6u.js";import"./el-tag-DTcf9YHy.js";import{E as L,a as z}from"./el-select-QH1YEJFX.js";import"./el-popper-DxIH9Gq3.js";import{_ as k,a as H,b as T,c as U,u as N,E as O}from"./useInfiniteScroll-B2GQMyNK.js";import{_ as q,q as m,o as u,f as b,a as t,w as e,u as C,b as r,t as d,d as g,X as R,h as A,c as x,S as M,F as I,$ as X,a0 as Z,j as G,s as J,Z as K,p as V}from"./app-DmT_ncXi.js";import{_ as P}from"./App-2pa06XVt.js";import{E as Q}from"./el-divider-C-Y1vzfH.js";import{E as W,c as Y}from"./el-col-sM1TNmad.js";import{u as D}from"./UserStore-DASx9G38.js";import{a as ee}from"./api-ByJPiCs4.js";import{E as te}from"./index-6ULrAMay.js";/* empty css                   *//* empty css                                                                           */import"./ApplicationLogo-P_eTRRFY.js";const j=s=>(X("data-v-8b551ceb"),s=s(),Z(),s),ae=j(()=>r("ul",null,[r("li",{class:"icon-pointer",style:{color:"#e72121"}},"Report")],-1)),le=j(()=>r("span",null,"...",-1)),se={class:"startup-desc"},oe={__name:"StartupCard",props:{startup:Object},emits:["voteUpHandler","voteDownHandler","favoriteStartupHandler"],setup(s){const h=D(),i=m(!1),l=m(!1),_=m(""),E=async f=>{if(!i.value&&!_.value){l.value=!0;try{const o=await ee.startups.show(f.id);_.value=o.data.description}catch(o){console.error("Failed to fetch startup description:",o)}finally{l.value=!1}}i.value=!i.value};return(f,o)=>{const p=H,n=T,c=W,y=te,v=Y,w=U,S=Q;return u(),b(I,null,[t(v,{justify:"center",align:"middle",gutter:12,class:"startup-header"},{default:e(()=>[t(c,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:e(()=>[t(k,null,{reference:e(()=>[t(p,{size:20,src:C(h).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:e(()=>{var a;return[r("p",null,d((a=s.startup.author)==null?void 0:a.name),1)]}),_:1}),t(n,{size:"small",class:"icon-pointer"},{default:e(()=>[t(k,null,{reference:e(()=>{var a;return[r("span",null,d((a=s.startup.author)==null?void 0:a.name),1)]}),default:e(()=>{var a;return[r("div",null,[r("p",null,d((a=s.startup.author)==null?void 0:a.name),1)])]}),_:1})]),_:1})]),_:1}),t(c,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:e(()=>[t(n,{size:"small"},{default:e(()=>[g(d(s.startup.created_at),1)]),_:1}),t(k,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:e(()=>[t(y,{size:"20",class:"icon-pointer ml-1"},{default:e(()=>[t(C(R))]),_:1})]),default:e(()=>[ae]),_:1})]),_:1})]),_:1}),t(v,{justify:"center",align:"middle",gutter:12,class:"flex-col"},{default:e(()=>[t(c,{xs:12,sm:12,md:12,lg:12,xl:12,class:"startup-title",onClick:o[0]||(o[0]=a=>E(s.startup))},{default:e(()=>[t(n,null,{default:e(()=>[g(d(s.startup.title)+" ",1),le]),_:1})]),_:1}),t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(w,null,{default:e(()=>[A(r("div",se,[l.value?(u(),x(n,{key:0},{default:e(()=>[g("Loading...")]),_:1})):(u(),x(n,{key:1},{default:e(()=>[g(d(_.value),1)]),_:1}))],512),[[M,i.value]])]),_:1})]),_:1})]),_:1}),t(v,{justify:"center",align:"top",gutter:12,class:"default-row"},{default:e(()=>[t(c,{xs:12,sm:12,md:12,lg:12,xl:12},{default:e(()=>[t(S)]),_:1})]),_:1})],64)}}},re=q(oe,[["__scopeId","data-v-8b551ceb"]]),ne={class:"flex mb-4"},be={__name:"Index",props:{startups:{type:Object,required:!0}},setup(s){const h=m(null),{items:i}=N("startups",h);D(),m(!1);const l=m({search:"",category:""}),_=["Tech","Health","Finance","Education"],E=G(()=>i.value.filter(o=>(l.value.search===""||o.title.toLowerCase().includes(l.value.search.toLowerCase()))&&(l.value.category===""||o.category===l.value.category)));J(l,()=>{},{deep:!0});const f=()=>{};return(o,p)=>{const n=O,c=F,y=z,v=L,w=B,S=$;return u(),x(P,null,{header:e(()=>[t(C(K),{title:"Startups"})]),default:e(()=>[t(n,{right:50,bottom:50}),t(S,null,{default:e(()=>[t(w,null,{default:e(()=>[r("div",ne,[t(c,{modelValue:l.value.search,"onUpdate:modelValue":p[0]||(p[0]=a=>l.value.search=a),placeholder:"Search startups",class:"mr-4",onInput:f},null,8,["modelValue"]),t(v,{modelValue:l.value.category,"onUpdate:modelValue":p[1]||(p[1]=a=>l.value.category=a),placeholder:"Select category",onChange:f,class:"w-full"},{default:e(()=>[(u(),b(I,null,V(_,a=>t(y,{key:a,label:a,value:a},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),(u(!0),b(I,null,V(E.value,a=>(u(),x(re,{key:a.id,startup:a},null,8,["startup"]))),128)),r("div",{ref_key:"landmark",ref:h},null,512)]),_:1})]),_:1})]),_:1})}}};export{be as default};
