import{u as ie,_ as ve,d as Ne,w as Re}from"./base-DdetyUAM.js";import{u as Fe,E as de}from"./el-button-3m53QnAC.js";import{E as pe,a as ye}from"./el-form-item-qNf5f2r4.js";import{t as He,g as Ve,U as ge,E as _e}from"./el-input-pP7IyV6u.js";import{A as ze,x as be,B as Ye,C as Ue,D as je,j as H,s as Z,E as Pe,N as se,G as j,a as o,r as B,H as qe,I as ue,o as E,f as V,b as w,n as F,u as l,t as T,w as t,c as S,J as Ge,g as q,K as Ce,q as k,z as Ke,L as Xe,M as We,O as Je,h as Ee,P as Ze,R as we,S as he,U as Qe,V as et,W,d as L,e as Ie,_ as ee,m as tt,X as ot,F as G,Y as lt,$ as nt,a0 as st,a1 as at,p as it}from"./app-DmT_ncXi.js";import{E as ke}from"./el-divider-C-Y1vzfH.js";import{_ as P,a as te,b as Se,c as dt}from"./useInfiniteScroll-B2GQMyNK.js";import{u as rt,a as ce,b as ut,E as oe,c as le}from"./el-col-sM1TNmad.js";import{E as ct}from"./el-popconfirm-iHXcC3ui.js";import{F as mt,i as ft,E as vt,a as pt}from"./el-popper-DxIH9Gq3.js";/* empty css                   */import{u as ne}from"./UserStore-DASx9G38.js";import{a as yt}from"./api-ByJPiCs4.js";import{a as ae,i as Te,h as me,g as gt,b as _t,r as bt,c as re,d as Q,e as Ct,u as Et,E as Me,C as wt,f as ht,j as fe}from"./index-6ULrAMay.js";import{E as It}from"./helpers-B7bTxfec.js";const kt=(...e)=>n=>{e.forEach(u=>{ze(u)?u(n):u.value=n})};var J=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(J||{});const St=(e,n,u,c)=>{let i={offsetX:0,offsetY:0};const d=s=>{const g=s.clientX,r=s.clientY,{offsetX:f,offsetY:p}=i,b=e.value.getBoundingClientRect(),v=b.left,h=b.top,C=b.width,M=b.height,A=document.documentElement.clientWidth,_=document.documentElement.clientHeight,z=-v+f,R=-h+p,O=A-v-C+f,N=_-h-M+p,I=y=>{let $=f+y.clientX-g,x=p+y.clientY-r;c!=null&&c.value||($=Math.min(Math.max($,z),O),x=Math.min(Math.max(x,R),N)),i={offsetX:$,offsetY:x},e.value&&(e.value.style.transform=`translate(${ae($)}, ${ae(x)})`)},Y=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",Y)},m=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",d)},a=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",d)};be(()=>{Ye(()=>{u.value?m():a()})}),Ue(()=>{a()})},Tt=(e,n={})=>{je(e)||He("[useLockscreen]","You need to pass a ref param to this function");const u=n.ns||ie("popup"),c=H(()=>u.bm("parent","hidden"));if(!Te||me(document.body,c.value))return;let i=0,d=!1,m="0";const a=()=>{setTimeout(()=>{bt(document==null?void 0:document.body,c.value),d&&document&&(document.body.style.width=m)},200)};Z(e,s=>{if(!s){a();return}d=!me(document.body,c.value),d&&(m=document.body.style.width),i=Ve(u.namespace.value);const g=document.documentElement.clientHeight<document.body.scrollHeight,r=gt(document.body,"overflowY");i>0&&(g||r==="scroll")&&d&&(document.body.style.width=`calc(100% - ${i}px)`),_t(document.body,c.value)}),Pe(()=>a())},$e=e=>{if(!e)return{onClick:se,onMousedown:se,onMouseup:se};let n=!1,u=!1;return{onClick:m=>{n&&u&&e(m),n=u=!1},onMousedown:m=>{n=m.target===m.currentTarget},onMouseup:m=>{u=m.target===m.currentTarget}}},Mt=re({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Q([String,Array,Object])},zIndex:{type:Q([String,Number])}}),$t={click:e=>e instanceof MouseEvent},xt="overlay";var Dt=j({name:"ElOverlay",props:Mt,emits:$t,setup(e,{slots:n,emit:u}){const c=ie(xt),i=s=>{u("click",s)},{onClick:d,onMousedown:m,onMouseup:a}=$e(e.customMaskEvent?void 0:i);return()=>e.mask?o("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:m,onMouseup:a},[B(n,"default")],J.STYLE|J.CLASS|J.PROPS,["onClick","onMouseup","onMousedown"]):qe("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[B(n,"default")])}});const Lt=Dt,xe=Symbol("dialogInjectionKey"),De=re({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ct},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),At={close:()=>!0},Bt=["aria-level"],Ot=["aria-label"],Nt=["id"],Rt=j({name:"ElDialogContent"}),Ft=j({...Rt,props:De,emits:At,setup(e){const n=e,{t:u}=Et(),{Close:c}=wt,{dialogRef:i,headerRef:d,bodyId:m,ns:a,style:s}=ue(xe),{focusTrapRef:g}=ue(mt),r=H(()=>[a.b(),a.is("fullscreen",n.fullscreen),a.is("draggable",n.draggable),a.is("align-center",n.alignCenter),{[a.m("center")]:n.center}]),f=kt(g,i),p=H(()=>n.draggable),b=H(()=>n.overflow);return St(i,d,p,b),(v,h)=>(E(),V("div",{ref:l(f),class:F(l(r)),style:Ce(l(s)),tabindex:"-1"},[w("header",{ref_key:"headerRef",ref:d,class:F([l(a).e("header"),{"show-close":v.showClose}])},[B(v.$slots,"header",{},()=>[w("span",{role:"heading","aria-level":v.ariaLevel,class:F(l(a).e("title"))},T(v.title),11,Bt)]),v.showClose?(E(),V("button",{key:0,"aria-label":l(u)("el.dialog.close"),class:F(l(a).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=C=>v.$emit("close"))},[o(l(Me),{class:F(l(a).e("close"))},{default:t(()=>[(E(),S(Ge(v.closeIcon||l(c))))]),_:1},8,["class"])],10,Ot)):q("v-if",!0)],2),w("div",{id:l(m),class:F(l(a).e("body"))},[B(v.$slots,"default")],10,Nt),v.$slots.footer?(E(),V("footer",{key:0,class:F(l(a).e("footer"))},[B(v.$slots,"footer")],2)):q("v-if",!0)],6))}});var Ht=ve(Ft,[["__file","dialog-content.vue"]]);const Vt=re({...De,appendToBody:Boolean,appendTo:{type:Q(String),default:"body"},beforeClose:{type:Q(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),zt={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ge]:e=>ht(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Yt=(e,n)=>{var u;const i=Xe().emit,{nextZIndex:d}=rt();let m="";const a=ce(),s=ce(),g=k(!1),r=k(!1),f=k(!1),p=k((u=e.zIndex)!=null?u:d());let b,v;const h=Fe("namespace",Ne),C=H(()=>{const D={},U=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(D[`${U}-margin-top`]=e.top),e.width&&(D[`${U}-width`]=ae(e.width))),D}),M=H(()=>e.alignCenter?{display:"flex"}:{});function A(){i("opened")}function _(){i("closed"),i(ge,!1),e.destroyOnClose&&(f.value=!1)}function z(){i("close")}function R(){v==null||v(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=fe(()=>Y(),e.openDelay):Y()}function O(){b==null||b(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=fe(()=>y(),e.closeDelay):y()}function N(){function D(U){U||(r.value=!0,g.value=!1)}e.beforeClose?e.beforeClose(D):O()}function I(){e.closeOnClickModal&&N()}function Y(){Te&&(g.value=!0)}function y(){g.value=!1}function $(){i("openAutoFocus")}function x(){i("closeAutoFocus")}function Be(D){var U;((U=D.detail)==null?void 0:U.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&Tt(g);function Oe(){e.closeOnPressEscape&&N()}return Z(()=>e.modelValue,D=>{D?(r.value=!1,R(),f.value=!0,p.value=ft(e.zIndex)?d():p.value++,Ke(()=>{i("open"),n.value&&(n.value.scrollTop=0)})):g.value&&O()}),Z(()=>e.fullscreen,D=>{n.value&&(D?(m=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=m)}),be(()=>{e.modelValue&&(g.value=!0,f.value=!0,R())}),{afterEnter:A,afterLeave:_,beforeLeave:z,handleClose:N,onModalClick:I,close:O,doClose:y,onOpenAutoFocus:$,onCloseAutoFocus:x,onCloseRequested:Oe,onFocusoutPrevented:Be,titleId:a,bodyId:s,closed:r,style:C,overlayDialogStyle:M,rendered:f,visible:g,zIndex:p}},Ut=["aria-label","aria-labelledby","aria-describedby"],jt=j({name:"ElDialog",inheritAttrs:!1}),Pt=j({...jt,props:Vt,emits:zt,setup(e,{expose:n}){const u=e,c=We();ut({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},H(()=>!!c.title));const i=ie("dialog"),d=k(),m=k(),a=k(),{visible:s,titleId:g,bodyId:r,style:f,overlayDialogStyle:p,rendered:b,zIndex:v,afterEnter:h,afterLeave:C,beforeLeave:M,handleClose:A,onModalClick:_,onOpenAutoFocus:z,onCloseAutoFocus:R,onCloseRequested:O,onFocusoutPrevented:N}=Yt(u,d);Je(xe,{dialogRef:d,headerRef:m,bodyId:r,ns:i,rendered:b,style:f});const I=$e(_),Y=H(()=>u.draggable&&!u.fullscreen);return n({visible:s,dialogContentRef:a}),(y,$)=>(E(),S(et,{to:y.appendTo,disabled:y.appendTo!=="body"?!1:!y.appendToBody},[o(Qe,{name:"dialog-fade",onAfterEnter:l(h),onAfterLeave:l(C),onBeforeLeave:l(M),persisted:""},{default:t(()=>[Ee(o(l(Lt),{"custom-mask-event":"",mask:y.modal,"overlay-class":y.modalClass,"z-index":l(v)},{default:t(()=>[w("div",{role:"dialog","aria-modal":"true","aria-label":y.title||void 0,"aria-labelledby":y.title?void 0:l(g),"aria-describedby":l(r),class:F(`${l(i).namespace.value}-overlay-dialog`),style:Ce(l(p)),onClick:$[0]||($[0]=(...x)=>l(I).onClick&&l(I).onClick(...x)),onMousedown:$[1]||($[1]=(...x)=>l(I).onMousedown&&l(I).onMousedown(...x)),onMouseup:$[2]||($[2]=(...x)=>l(I).onMouseup&&l(I).onMouseup(...x))},[o(l(vt),{loop:"",trapped:l(s),"focus-start-el":"container",onFocusAfterTrapped:l(z),onFocusAfterReleased:l(R),onFocusoutPrevented:l(N),onReleaseRequested:l(O)},{default:t(()=>[l(b)?(E(),S(Ht,Ze({key:0,ref_key:"dialogContentRef",ref:a},y.$attrs,{center:y.center,"align-center":y.alignCenter,"close-icon":y.closeIcon,draggable:l(Y),overflow:y.overflow,fullscreen:y.fullscreen,"show-close":y.showClose,title:y.title,"aria-level":y.headerAriaLevel,onClose:l(A)}),we({header:t(()=>[y.$slots.title?B(y.$slots,"title",{key:1}):B(y.$slots,"header",{key:0,close:l(A),titleId:l(g),titleClass:l(i).e("title")})]),default:t(()=>[B(y.$slots,"default")]),_:2},[y.$slots.footer?{name:"footer",fn:t(()=>[B(y.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ut)]),_:3},8,["mask","overlay-class","z-index"]),[[he,l(s)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var qt=ve(Pt,[["__file","dialog.vue"]]);const Le=Re(qt);function Ae(){const e=W({id:null,title:"",description:""}),n=W({body:"",parent_id:null,idea:null}),u=W({title:[{required:!0,message:"Please input title",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}],description:[{required:!1,message:"Please input description",trigger:"blur"}]}),c=k(!1),i=k(!1),d=k(!1);return{ideaForm:e,ideaCommentForm:n,rules:u,ideaModalVisible:c,ideaEditModalVisible:i,ideaCommentModalVisible:d,showIdeaModal:(f=!0)=>{e.id=null,e.title="",e.description="",c.value=f},showIdeaEditModal:(f=!0,p=null)=>{p&&(e.id=p.id,e.title=p.title,e.description=p.description),i.value=f},showIdeaCommentModal:(f=!0,p=null,b=null)=>{n.idea=p??null,n.parent_id=b??null,n.body="",d.value=f},cancelEvent:()=>{console.log("cancel!")},resetForm:f=>{f&&f.resetFields()}}}const Gt={class:"dialog-footer"},wo=j({__name:"IdeaModal",props:{title:{type:String},submitButtonText:{type:String},ideaForm:{type:Object},submitting:Boolean},emits:["close","submit","reset"],setup(e,{emit:n}){const{rules:u}=Ae(),c=k(!0),i=k(),d=n,m=()=>{d("close")},s=k(e.ideaForm);return(g,r)=>{const f=_e,p=pe,b=ye,v=de,h=Le;return E(),S(h,{modelValue:c.value,"onUpdate:modelValue":r[5]||(r[5]=C=>c.value=C),title:e.title,onClose:m,style:{"border-radius":"5px"}},{footer:t(()=>[w("span",Gt,[o(v,{onClick:r[3]||(r[3]=C=>g.$emit("reset",i.value)),round:""},{default:t(()=>[L("Reset")]),_:1}),o(v,{type:"primary",onClick:r[4]||(r[4]=C=>g.$emit("submit",i.value,s.value)),round:"",disabled:!s.value.title||e.submitting},{default:t(()=>[L(T(e.submitButtonText),1)]),_:1},8,["disabled"])])]),default:t(()=>[o(b,{ref_key:"formRefComputed",ref:i,model:s.value,rules:l(u),"status-icon":"",onSubmit:r[2]||(r[2]=Ie(()=>{},["prevent"]))},{default:t(()=>[o(p,{label:"Title",prop:"title",required:""},{default:t(()=>[o(f,{modelValue:s.value.title,"onUpdate:modelValue":r[0]||(r[0]=C=>s.value.title=C),autocomplete:"off",placeholder:"Idea short title",clearable:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Description (optional)",prop:"description"},{default:t(()=>[o(f,{modelValue:s.value.description,"onUpdate:modelValue":r[1]||(r[1]=C=>s.value.description=C),rows:2,type:"textarea",placeholder:"Describe your idea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),X={__name:"Tooltip",props:["placement","content"],setup(e){return(n,u)=>{const c=pt;return E(),S(c,{class:"box-item",effect:"dark",content:e.content,placement:e.placement},{default:t(()=>[B(n.$slots,"default")]),_:3},8,["content","placement"])}}},K=e=>(nt("data-v-8ea917c8"),e=e(),st(),e),Kt=K(()=>w("hr",null,null,-1)),Xt=K(()=>w("li",{class:"icon-pointer",style:{color:"#ff1100"}},"Delete",-1)),Wt=K(()=>w("hr",null,null,-1)),Jt=K(()=>w("li",{class:"icon-pointer",style:{color:"#e72121"}},"Report",-1)),Zt=K(()=>w("span",null,"...",-1)),Qt={class:"idea-desc"},eo={__name:"IdeaCard",props:{idea:Object,submitting:Boolean},emits:["showEditModalHandler","deleteIdeaHandler","voteUpHandler","voteDownHandler","favoriteIdeaHandler","sendIdeaHandler","showCommentModalHandler"],setup(e){const n=ne(),{cancelEvent:u}=Ae(),c=k(!1),i=k(!1),d=k(""),m=async a=>{if(!c.value&&!d.value){i.value=!0;try{const s=await yt.ideas.show(a.id);d.value=s.data.description}catch(s){console.error("Failed to fetch idea description:",s)}finally{i.value=!1}}c.value=!c.value};return(a,s)=>{const g=te,r=Se,f=oe,p=Me,b=ct,v=le,h=dt,C=tt("icon-svg"),M=It,A=ke;return E(),V(G,null,[o(v,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(P,null,{reference:t(()=>[o(g,{size:20,src:l(n).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var _;return[w("p",null,T((_=e.idea.author)==null?void 0:_.name),1)]}),_:1}),o(r,{size:"small",class:"icon-pointer"},{default:t(()=>[o(P,null,{reference:t(()=>{var _;return[w("span",null,T((_=e.idea.author)==null?void 0:_.name),1)]}),default:t(()=>{var _;return[w("div",null,[w("p",null,T((_=e.idea.author)==null?void 0:_.name),1)])]}),_:1})]),_:1})]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(r,{size:"small"},{default:t(()=>[L(T(e.idea.created_at),1)]),_:1}),o(P,{placement:"right-end",trigger:"click",width:50,"show-after":0,"hide-after":0},{reference:t(()=>[o(p,{size:"20",class:"icon-pointer ml-1"},{default:t(()=>[o(l(ot))]),_:1})]),default:t(()=>[w("ul",null,[l(n).isAuthorOfIdea(e.idea)?(E(),V(G,{key:0},[w("li",{class:"icon-pointer",onClick:s[0]||(s[0]=_=>a.$emit("showEditModalHandler",!0,e.idea))},"Edit"),Kt,o(b,{"confirm-button-text":"Yes","cancel-button-text":"No","icon-color":"#626AEF",title:"Are you sure to delete this?",onConfirm:s[1]||(s[1]=_=>a.$emit("deleteIdeaHandler",e.idea.id)),onCancel:l(u)},{reference:t(()=>[Xt]),_:1},8,["onCancel"]),Wt],64)):q("",!0),Jt])]),_:1})]),_:1})]),_:1}),o(v,{justify:"center",align:"middle",gutter:12,class:"flex-col"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12,class:"idea-title",onClick:s[2]||(s[2]=_=>m(e.idea))},{default:t(()=>[o(r,null,{default:t(()=>[L(T(e.idea.title)+" ",1),Zt]),_:1})]),_:1}),o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(h,null,{default:t(()=>[Ee(w("div",Qt,[i.value?(E(),S(r,{key:0},{default:t(()=>[L("Loading...")]),_:1})):(E(),S(r,{key:1},{default:t(()=>[L(T(d.value),1)]),_:1}))],512),[[he,c.value]])]),_:1})]),_:1})]),_:1}),o(v,{justify:"center",align:"middle",gutter:12,class:"mt-5"},{default:t(()=>[o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-start-col"},{default:t(()=>[o(M,{hidden:e.idea.upvotes===0,value:e.idea.upvotes,class:"item",type:"success"},{default:t(()=>[o(X,{content:l(n).hasUpvotedIdea(e.idea)?"Liked":"Like",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:s[3]||(s[3]=_=>a.$emit("voteUpHandler",e.idea))},{default:t(()=>[l(n).hasUpvotedIdea(e.idea)?(E(),S(C,{key:0,name:"like-solid"})):(E(),S(C,{key:1,name:"like-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"]),o(M,{hidden:e.idea.downvotes===0,value:e.idea.downvotes,class:"item"},{default:t(()=>[o(X,{content:l(n).hasDownvotedIdea(e.idea)?"Disliked":"Dislike",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 ml-2 mr-2",onClick:s[4]||(s[4]=_=>a.$emit("voteDownHandler",e.idea))},{default:t(()=>[l(n).hasDownvotedIdea(e.idea)?(E(),S(C,{key:0,name:"dislike-solid"})):(E(),S(C,{key:1,name:"dislike-regular"}))]),_:1})]),_:1},8,["content"])]),_:1},8,["hidden","value"])]),_:1}),o(f,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(M,{hidden:!e.idea.comments_count||e.idea.comments_count===0,value:e.idea.comments_count,class:"item",type:"info"},{default:t(()=>[o(X,{content:"Comment",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 mr-2",onClick:s[5]||(s[5]=_=>a.$emit("showCommentModalHandler",!0,e.idea))},{default:t(()=>[o(l(lt))]),_:1})]),_:1})]),_:1},8,["hidden","value"]),o(X,{content:l(n).hasFavoritedIdea(e.idea)?"Saved":"Save",placement:"top"},{default:t(()=>[o(p,{size:"20",class:"icon-pointer mt-0.5 ml-2",onClick:s[6]||(s[6]=_=>a.$emit("favoriteIdeaHandler",e.idea))},{default:t(()=>[l(n).hasFavoritedIdea(e.idea)?(E(),S(C,{key:0,name:"save-solid"})):(E(),S(C,{key:1,name:"save-regular"}))]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),o(v,{justify:"center",align:"top",gutter:12,class:"default-row"},{default:t(()=>[o(f,{xs:12,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(A)]),_:1})]),_:1})],64)}}},ho=ee(eo,[["__scopeId","data-v-8ea917c8"]]),to={__name:"PostNewIdeaSection",emits:["showModal"],setup(e){const n=ne();return(u,c)=>{const i=te,d=oe,m=de,a=le,s=ke;return l(n).isGuest?q("",!0):(E(),V(G,{key:0},[o(a,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(d,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(i,{size:20,src:l(n).avatar},null,8,["src"])]),_:1}),o(d,{xs:7,sm:7,md:8,lg:8,xl:8,onClick:c[0]||(c[0]=g=>u.$emit("showModal")),class:"idea-flex-center-col new-idea-text"},{default:t(()=>[L(" New Idea... ")]),_:1}),o(d,{xs:3,sm:3,md:2,lg:2,xl:2,class:"flex-end-col"},{default:t(()=>[o(m,{type:"primary",onClick:c[1]||(c[1]=g=>u.$emit("showModal")),round:"",disabled:""},{default:t(()=>[L("Post")]),_:1})]),_:1})]),_:1}),o(a,{justify:"center",align:"middle",gutter:12,class:"default-row"},{default:t(()=>[o(d,{xs:12,sm:12,md:12},{default:t(()=>[o(s)]),_:1})]),_:1})],64))}}},Io=ee(to,[["__scopeId","data-v-99606c53"]]),oo={__name:"IdeaCommentCard",props:{comment:Object,submitting:Boolean},emits:["deleteCommentHandler"],setup(e){const n=ne();return(u,c)=>{const i=te,d=Se,m=oe,a=le;return E(),V(G,null,[o(a,{justify:"center",align:"middle",gutter:12,class:"idea-header"},{default:t(()=>[o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-start-col"},{default:t(()=>[o(P,null,{reference:t(()=>[o(i,{size:20,src:l(n).avatar,class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>[w("p",null,T(e.comment.author.name),1)]),_:1}),o(d,{size:"small",class:"icon-pointer"},{default:t(()=>[o(P,null,{reference:t(()=>[w("span",null,T(e.comment.author.name),1)]),default:t(()=>[w("div",null,[w("p",null,T(e.comment.author.name),1)])]),_:1})]),_:1})]),_:1}),o(m,{xs:12,sm:12,md:12,lg:12,xl:12,class:"flex-end-col"},{default:t(()=>[o(d,{size:"small"},{default:t(()=>[L(T(e.comment.created_at),1)]),_:1})]),_:1})]),_:1}),o(a,{justify:"start",align:"middle",gutter:12,class:"idea-header comment-text"},{default:t(()=>[o(d,null,{default:t(()=>[L(T(e.comment.body),1)]),_:1})]),_:1})],64)}}},lo=ee(oo,[["__scopeId","data-v-512045ff"]]),no={class:"idea-comment-container"},so=j({__name:"IdeaCommentModal",props:{submitButtonText:{type:String},ideaCommentForm:{type:Object},submitting:Boolean},emits:["close","submit"],setup(e,{emit:n}){const u=ne(),{isGuest:c,avatar:i}=at(u),d=k(!0),m=k(),a=n,s=()=>{a("close")},g=e,r=W(g.ideaCommentForm),f=k([{required:!0,message:"Please input comment",trigger:"blur"},{min:3,max:255,message:"Length should be 3 to 255",trigger:"blur"}]),p=k(g.ideaCommentForm.idea.comments||[]),b=()=>{a("delete-comment-handler")};return Z(()=>g.ideaCommentForm.idea.comments,v=>{console.log(v)},{deep:!0,immediate:!0}),(v,h)=>{const C=te,M=oe,A=_e,_=pe,z=de,R=le,O=ye,N=Le;return E(),S(N,{modelValue:d.value,"onUpdate:modelValue":h[3]||(h[3]=I=>d.value=I),title:"Idea Comments",onClose:s,style:{"border-radius":"5px"}},we({default:t(()=>[w("div",no,[(E(!0),V(G,null,it(p.value,I=>(E(),S(lo,{key:I.id,comment:I,submitting:e.submitting,onDeleteCommentHandler:b},null,8,["comment","submitting"]))),128))])]),_:2},[l(c)?void 0:{name:"footer",fn:t(()=>[o(O,{ref_key:"ideaCommentFormRef",ref:m,model:r,"status-icon":"",onSubmit:h[2]||(h[2]=Ie(()=>{},["prevent"]))},{default:t(()=>[o(R,{justify:"center",align:"middle",gutter:12},{default:t(()=>[o(M,{xs:2,sm:2,md:2,lg:2,xl:2,class:"flex-start-col"},{default:t(()=>[o(P,null,{reference:t(()=>[o(C,{size:20,src:l(i),class:"mr-2 icon-pointer"},null,8,["src"])]),default:t(()=>{var I;return[w("p",null,T((I=r.idea.author)==null?void 0:I.name),1)]}),_:1})]),_:1}),o(M,{xs:16,sm:16,md:16,lg:16,xl:16,class:"idea-flex-center-col"},{default:t(()=>[o(_,{prop:"body",required:"",rules:f.value},{default:t(()=>[o(A,{modelValue:r.body,"onUpdate:modelValue":h[0]||(h[0]=I=>r.body=I),autocomplete:"off",placeholder:"Add a comment...",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),o(M,{xs:6,sm:6,md:6,lg:6,xl:6,class:"flex-end-col"},{default:t(()=>[o(_,null,{default:t(()=>[o(z,{type:"primary",onClick:h[1]||(h[1]=I=>v.$emit("submit",m.value,r)),round:"",disabled:!r.body||e.submitting},{default:t(()=>[L(T(e.submitButtonText),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),key:"0"}]),1032,["modelValue"])}}}),ko=ee(so,[["__scopeId","data-v-258f4883"]]);export{ko as I,Io as P,wo as _,ho as a,Ae as u};
