import{j as E,au as a,Q as C,o as m,f as h,b as s,a as J,w as S,d as k,t as c,u as f,i as T,F as N,m as P,g as V}from"./app-BTZ_p7eC.js";import{u as y,J as b}from"./UserStore-oMa9hEDq.js";import{a as q}from"./api-C2yxl7cX.js";import{a as D}from"./helpers-BTSr19qp.js";function U(o){const{success:g,info:u,warning:_}=D(),n=y(),i=(e,r)=>{const R=t(r);window.confirm(R)&&e()},p=e=>{j()&&(n.hasPendingJoinRequest(e)?i(()=>l(e),a("site.startup.requests.cancel_request_confirmation")):n.isContributor(e)?i(()=>v(e),a("site.startup.requests.leave_team_confirmation")):i(()=>d(e),a("site.startup.requests.send_join_request_confirmation")))},d=async e=>{try{await q.startups.sendRequest(e,{status:b.PENDING.value}),g(a("site.startup.requests.join_request_success")),x()}catch(r){console.error("Error sending join request:",r),u(a("site.startup.requests.join_request_error"))}},l=async e=>{try{const r=n.getJoinRequest(e);await q.startups.handleJoinRequest(e,{requestId:r==null?void 0:r.id,fromStatus:r==null?void 0:r.status,toStatus:b.CANCELED.value}),_(a("site.startup.requests.cancel_join_request_success")),x()}catch(r){console.error("Error canceling join request:",r),u(a("site.startup.requests.join_request_error"))}},v=async e=>{try{await q.startups.sendRequest(e,{status:b.LEAVED.value}),g(a("site.startup.requests.leave_team_request_success")),x()}catch(r){console.error("Error leaving team:",r),u(a("site.startup.requests.join_request_error"))}},x=()=>{const e=C().props;e.auth&&e.auth.user&&e.auth.user.data&&n.updateUserJoinRequests(e.auth.user.data.joinRequests)},w=E(()=>{const e=n.hasPendingJoinRequest(o.id),r=n.isContributor(o.id);return n.isGuest?a("site.startup.requests.button.join"):e?a("site.startup.requests.button.cancel_request"):r?a("site.startup.requests.button.leave_team"):a("site.startup.requests.button.join")});function j(){return n.isGuest?(u(a("site.startup.requests.login_required")),!1):!0}return{handleJoinRequest:p,sendJoinRequest:d,cancelJoining:l,leaveTeam:v,buttonText:w}}const A={class:"p-4 relative flex flex-col bg-white border border-gray-200 rounded-xl dark:bg-neutral-800 dark:border-neutral-700"},B={class:"grid lg:grid-cols-12 gap-y-2 lg:gap-y-0 gap-x-4"},M={class:"lg:col-span-3"},G=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-view"},[s("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"}),s("path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2"}),s("circle",{cx:"12",cy:"12",r:"1"}),s("path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0"})],-1),L={class:"mt-1 lg:mt-2 -mx-0.5 sm:-mx-1"},$={class:"lg:col-span-6"},F={class:"mt-1 text-md text-dark-500 dark:text-neutral-200"},H={class:"mt-2 flex items-center gap-x-3"},O={class:"text-xs text-gray-500 dark:text-neutral-400"},Q={class:"lowercase"},z={class:"lg:col-span-3"},K={class:"flex lg:flex-col justify-end items-center gap-2 border-t border-gray-200 lg:border-t-0 pt-3 lg:pt-0 dark:border-neutral-700"},W={key:0,class:"lg:order-2 lg:ms-auto"},ee={__name:"StartupCard",props:{startup:Object},setup(o){const g=o,u=y(),{handleJoinRequest:_,buttonText:n}=U(g.startup);return(i,p)=>{var d;return m(),h("div",A,[s("div",B,[s("div",M,[s("p",null,[J(f(T),{href:i.route("startups.show",o.startup.id),class:"inline-flex items-center gap-x-1 text-gray-800 decoration-2 hover:underline font-medium hover:text-blue-600 focus:outline-none focus:underline focus:text-blue-600 dark:text-neutral-200 dark:hover:text-blue-500 dark:focus:outline-none dark:focus:text-blue-500"},{default:S(()=>[G,k(" "+c(i.$t("site.startup.card.view_details")),1)]),_:1},8,["href"])]),s("div",L,[(m(!0),h(N,null,P(o.startup.industries,l=>(m(),h("span",{key:l.id,class:"m-0.5 sm:m-1 p-1.5 sm:p-2 inline-block bg-gray-100 text-gray-800 text-xs rounded-md dark:bg-neutral-700 dark:text-neutral-200"},c(l.title),1))),128))])]),s("div",$,[s("p",F,c(o.startup.title),1),s("div",H,[s("h4",O,[k(c(i.$t("site.startup.card.status"))+" ",1),s("span",Q,c(o.startup.status.label),1)])])]),s("div",z,[s("div",K,[((d=f(u).authUser)==null?void 0:d.id)!==o.startup.owner.id?(m(),h("div",W,[s("button",{type:"button",onClick:p[0]||(p[0]=l=>f(_)(o.startup.id)),class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700","data-hs-overlay":"#hs-pro-dtlam"},c(f(n)),1)])):V("",!0)])])])])}}};export{ee as _,U as u};
