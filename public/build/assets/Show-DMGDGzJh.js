import{o as i,f as d,g as b,b as t,a as x,w as C,d as y,t as u,u as n,i as M,p as $,j as P,n as B,F as U,q as H,s as R,e as N,h as G,v as W,m as D,Q as I,c as S,Z as Q}from"./app-CnNuEMmT.js";import{A as Y}from"./App-meg4ih73.js";import{m as z}from"./marked.esm-Cv8YM6Xl.js";import{u as T}from"./helpers-Dg_TcOmu.js";import{u as L,V}from"./UserStore-CylqSXgE.js";import{a as j}from"./api-DSHBDJK5.js";/* empty css             */import"./el-main-DaZawinT.js";import"./plugin-vue_export-helper-M7vFY8lq.js";import"./ApplicationLogo-zwZo2Nlb.js";import"./use-global-config-BsByRpBn.js";import"./index-DIlMAJ2O.js";const Z={class:"bg-white rounded-lg shadow-md overflow-hidden"},J=["src","alt"],K={class:"p-4"},X={class:"font-semibold mb-2"},tt={class:"text-sm text-gray-500 flex items-center justify-between"},et={class:"flex items-center text-gray-400"},ot=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),st={__name:"RelatedPostCard",props:{post:Object},setup(e){return(s,o)=>(i(),d("div",Z,[e.post.featured_image?(i(),d("img",{key:0,src:e.post.featured_image,alt:e.post.title,class:"w-full h-40 object-cover"},null,8,J)):b("",!0),t("div",K,[t("h3",X,[x(n(M),{href:s.route("blog.show",e.post.slug),class:"hover:text-primary-600"},{default:C(()=>[y(u(e.post.title),1)]),_:1},8,["href"])]),t("div",tt,[t("span",null,u(e.post.published_at),1),t("span",et,[ot,y(" "+u(e.post.views_count),1)])])])]))}},nt=t("h3",{class:"text-2xl font-bold mb-6"},"Maqolani ulashing",-1),rt={class:"flex items-center space-x-4 my-6 p-4 bg-gray-50 rounded-lg"},lt={class:"border-s ps-3.5 dark:border-neutral-700"},at=t("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},null,-1),it=t("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),ct=[at,it],dt=t("polyline",{points:"20 6 9 17 4 12"},null,-1),ut=[dt],ht={class:"hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity absolute z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded-lg shadow-sm dark:bg-neutral-700",role:"tooltip"},mt=["href"],pt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-send"},[t("path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}),t("path",{d:"m21.854 2.147-10.94 10.939"})],-1),gt=t("span",null,"Telegram",-1),_t=[pt,gt],vt=["href"],ft=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-facebook"},[t("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})],-1),wt=t("span",null,"Facebook",-1),xt=[ft,wt],bt=["href"],yt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-twitter"},[t("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})],-1),kt=t("span",null,"Twitter",-1),Ct=[yt,kt],$t=["href"],Pt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-linkedin"},[t("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),t("rect",{width:"4",height:"12",x:"2",y:"9"}),t("circle",{cx:"4",cy:"4",r:"2"})],-1),jt=t("span",null,"LinkedIn",-1),Mt=[Pt,jt],Bt=["href"],St=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-mail"},[t("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),t("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})],-1),Ut=t("span",null,"Email",-1),Lt=[St,Ut],zt={__name:"ShareButtons",props:{url:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const s=e,{error:o,success:_}=T(),r=$(!1),v=P(()=>encodeURIComponent(s.url)),g=P(()=>encodeURIComponent(s.title)),k=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(s.url);else{const a=document.createElement("textarea");a.value=s.url,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),a.remove()}catch(p){console.error("Fallback: Oops, unable to copy",p),a.remove(),o("Failed to copy URL");return}}r.value=!0,_("URL copied to clipboard"),setTimeout(()=>{r.value=!1},2e3)}catch(a){console.error("Failed to copy:",a),o("Failed to copy URL")}};return(a,p)=>(i(),d(U,null,[nt,t("div",rt,[t("button",{onClick:k,type:"button",class:"[--is-toggle-tooltip:false] hs-tooltip relative py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-mono rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-800 dark:focus:bg-neutral-800"},[y(u(s.url)+" ",1),t("span",lt,[(i(),d("svg",{class:B([{hidden:r.value,block:!r.value},"size-4 group-hover:rotate-6 transition"]),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ct,2)),(i(),d("svg",{class:B([{hidden:!r.value,block:r.value},"size-4 text-blue-600 rotate-6"]),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ut,2))]),t("span",ht,u(r.value?"Copied!":"Copy"),1)]),t("a",{href:"https://t.me/share/url?url="+v.value+"&text="+g.value,target:"_blank",class:"flex items-center space-x-2 text-blue-500 hover:text-blue-600"},_t,8,mt),t("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+v.value,target:"_blank",class:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},xt,8,vt),t("a",{href:"https://twitter.com/intent/tweet?text="+g.value+"&url="+v.value,target:"_blank",class:"flex items-center space-x-2 text-blue-400 hover:text-blue-500"},Ct,8,bt),t("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url="+v.value+"&title="+g.value,target:"_blank",class:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},Mt,8,$t),t("a",{href:"mailto:?subject="+g.value+"&body="+v.value,target:"_blank",class:"flex items-center space-x-2 text-gray-600 hover:text-gray-800"},Lt,8,Bt)])],64))}},E=H("BlogStore",{state:()=>({comments:{},posts:{}}),actions:{setComments(e,s){this.comments[e]=s.comments||[]},addComment(e,s){this.comments[e]||(this.comments[e]=[]),this.comments[e].unshift(s)},updatePost(e){this.posts[e.id]=e},deleteComment(e,s){this.comments[e]&&(this.comments[e]=this.comments[e].filter(o=>o.id!==s))}},getters:{getPostById:e=>s=>e.posts[s],getComments:e=>s=>e.comments[s]||[]}});function A(){const e=E(),s=L(),{info:o,success:_}=T(),r=$(!1);return{submitting:r,votePost:async(p,w)=>{if(s.isGuest){o("Please login to vote");return}if(!r.value){r.value=!0;try{const h=await j.blog.posts.vote(p.id,{type:w});e.updatePost(h.data.post),s.updateUserVotes(h.data.user_votes),o("Vote recorded successfully")}catch(h){console.error("Error voting:",h)}finally{r.value=!1}}},loadComments:async(p,w=1)=>{var h;try{const l=await j.blog.posts.getComments(p,w);return(h=l==null?void 0:l.data)!=null&&h.comments&&e.setComments(p,l.data),l}catch(l){return console.error("Error loading comments:",l),null}},addComment:async(p,w)=>{var h;if(s.isGuest)return o("Please login to comment"),null;if(r.value)return null;r.value=!0;try{const l=await j.blog.posts.addComment(p,w);return(h=l==null?void 0:l.data)!=null&&h.post&&_("Comment added successfully"),l}catch(l){return console.error("Error adding comment:",l),null}finally{r.value=!1}},deleteComment:async(p,w)=>{var h;if(r.value)return null;r.value=!0;try{const l=await j.blog.posts.deleteComment(p,w);return(h=l==null?void 0:l.data)!=null&&h.post&&o("Comment deleted successfully"),l}catch(l){return console.error("Error deleting comment:",l),null}finally{r.value=!1}}}}const Vt={class:"flex items-center space-x-6 my-6"},Dt=["disabled"],Tt=["fill"],Et=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"},null,-1),At=[Et],Ft=["disabled"],Ot=["fill"],qt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"},null,-1),Ht=[qt],Rt={__name:"LikeDislike",props:{post:{type:Object,required:!0}},setup(e){const s=e,o=L(),{submitting:_,votePost:r}=A(),v=async()=>{o.hasUpvotedPost(s.post)||await r(s.post,V.UP)},g=async()=>{o.hasDownvotedPost(s.post)||await r(s.post,V.DOWN)};return(k,a)=>(i(),d("div",Vt,[t("button",{onClick:v,disabled:n(_),class:B(["flex items-center space-x-2",{"text-blue-500":n(o).hasUpvotedPost(e.post),"text-gray-500 hover:text-blue-500":!n(o).hasUpvotedPost(e.post)}])},[(i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:n(o).hasUpvotedPost(e.post)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},At,8,Tt)),t("span",null,u(e.post.upvotes||0),1)],10,Dt),t("button",{onClick:g,disabled:n(_),class:B(["flex items-center space-x-2",{"text-red-500":n(o).hasDownvotedPost(e.post),"text-gray-500 hover:text-red-500":!n(o).hasDownvotedPost(e.post)}])},[(i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:n(o).hasDownvotedPost(e.post)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ht,8,Ot)),t("span",null,u(e.post.downvotes||0),1)],10,Ft)]))}},Nt={class:"my-8"},Gt={class:"text-2xl font-bold mb-6"},Wt={class:"mt-2 flex justify-end"},It=["disabled"],Qt={key:1,class:"mb-8 p-4 bg-gray-50 rounded-lg text-center"},Yt={class:"space-y-6"},Zt={class:"flex-shrink-0"},Jt=["src","alt"],Kt={class:"flex-grow"},Xt={class:"flex items-center space-x-2"},te={class:"font-medium"},ee={class:"text-gray-500 text-sm"},oe={class:"mt-1 text-gray-800"},se={class:"mt-2 flex items-center space-x-4"},ne=["onClick","disabled"],re=["disabled"],le={__name:"Comments",props:{post:{type:Object,required:!0}},setup(e){const s=e,o=L(),_=E(),{submitting:r,loadComments:v,addComment:g,deleteComment:k}=A(),a=$({body:""}),p=$(!0),w=$(1),h=P(()=>_.getComments(s.post.id));R(()=>{l()});const l=async()=>{var m;const c=await v(s.post.id);(m=c==null?void 0:c.data)!=null&&m.comments&&(p.value=c.data.comments.length>=10)},F=async()=>{var m;w.value++;const c=await v(s.post.id,w.value);(m=c==null?void 0:c.data)!=null&&m.comments&&(p.value=c.data.comments.length>=10)},O=async()=>{var m;if(!a.value.body.trim())return;const c=await g(s.post.id,{body:a.value.body});(m=c==null?void 0:c.data)!=null&&m.post&&(_.updatePost(c.data.post),a.value.body="",await l())},q=async c=>{var f;if(!confirm("Are you sure you want to delete this comment?"))return;const m=await k(s.post.id,c.id);(f=m==null?void 0:m.data)!=null&&f.post&&(_.updatePost(m.data.post),await l())};return(c,m)=>(i(),d("div",Nt,[t("h3",Gt,"Comments ("+u(h.value.length)+")",1),c.$page.props.auth.user?(i(),d("form",{key:0,onSubmit:N(O,["prevent"]),class:"mb-8"},[G(t("textarea",{"onUpdate:modelValue":m[0]||(m[0]=f=>a.value.body=f),rows:"3",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Write a comment..."},null,512),[[W,a.value.body]]),t("div",Wt,[t("button",{type:"submit",disabled:n(r),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50"}," Post Comment ",8,It)])],32)):(i(),d("div",Qt,[x(n(M),{href:c.route("login"),class:"text-blue-600 hover:text-blue-700"},{default:C(()=>[y(" Login to comment ")]),_:1},8,["href"])])),t("div",Yt,[(i(!0),d(U,null,D(h.value,f=>(i(),d("div",{key:f.id,class:"flex space-x-4"},[t("div",Zt,[t("img",{src:f.author.avatar||"/images/default-avatar.png",alt:f.author.name,class:"h-10 w-10 rounded-full"},null,8,Jt)]),t("div",Kt,[t("div",Xt,[t("span",te,u(f.author.name),1),t("span",ee,u(f.created_at),1)]),t("p",oe,u(f.body),1),t("div",se,[n(o).canDeleteComment(f)?(i(),d("button",{key:0,onClick:be=>q(f),disabled:n(r),class:"text-sm text-red-500 hover:text-red-600"}," Delete ",8,ne)):b("",!0)])])]))),128))]),p.value?(i(),d("button",{key:2,onClick:F,disabled:n(r),class:"mt-6 w-full py-2 text-center text-gray-600 hover:text-gray-800"}," Load More Comments ",8,re)):b("",!0)]))}},ae={class:"container mx-auto px-4 py-8"},ie={class:"max-w-4xl mx-auto"},ce=t("svg",{class:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m15 18-6-6 6-6"})],-1),de={class:"text-4xl font-bold mb-4 mt-4"},ue={class:"flex items-center text-gray-600 mb-8"},he={key:1,class:"mx-2"},me=t("span",{class:"mx-2"},"•",-1),pe={class:"flex items-center"},ge=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),_e=["src","alt"],ve=["innerHTML"],fe={key:1,class:"mt-12"},we={class:"text-2xl font-bold mb-6"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ve={__name:"Show",setup(e){const s=I(),o=s.props.post.data,_=s.props.relatedPosts.data,r=P(()=>window.location.href);z.setOptions({breaks:!0,gfm:!0,headerIds:!0,mangle:!1});const v=P(()=>o.content?z(o.content):"");return(g,k)=>(i(),S(Y,null,{header:C(()=>[x(n(Q),{title:n(o).title},null,8,["title"])]),default:C(()=>[t("div",ae,[t("div",ie,[x(n(M),{class:"inline-flex items-center gap-x-1.5 text-sm text-gray-600 decoration-2 hover:underline focus:outline-none focus:underline dark:text-blue-500",href:g.route("blog.index")},{default:C(()=>[ce,y(" "+u(g.$t("site.blog.posts")),1)]),_:1},8,["href"]),t("h1",de,u(n(o).title),1),t("div",ue,[n(o).category?(i(),S(n(M),{key:0,href:g.route("blog.category",n(o).category.slug),class:"text-primary-600 hover:text-primary-700"},{default:C(()=>[y(u(n(o).category.name),1)]),_:1},8,["href"])):b("",!0),n(o).category?(i(),d("span",he,"•")):b("",!0),t("span",null,u(n(o).published_at),1),me,t("span",pe,[ge,y(" "+u(n(o).views_count),1)])]),n(o).featured_image?(i(),d("img",{key:0,src:n(o).featured_image,alt:n(o).title,class:"w-full rounded-lg mb-8"},null,8,_e)):b("",!0),t("article",{class:"prose prose-lg prose-img:rounded-xl prose-headings:underline prose-a:text-blue-600 max-w-none",innerHTML:v.value},null,8,ve),x(zt,{url:r.value,title:n(o).title},null,8,["url","title"]),x(Rt,{post:n(o)},null,8,["post"]),x(le,{post:n(o)},null,8,["post"]),n(_).length?(i(),d("div",fe,[t("h2",we,u(g.$t("site.blog.related_posts")),1),t("div",xe,[(i(!0),d(U,null,D(n(_),a=>(i(),S(st,{key:a.id,post:a},null,8,["post"]))),128))])])):b("",!0)])])]),_:1}))}};export{Ve as default};
