import{j as Q,p as je,J as Ue,k as Ce,b as _e,d as ne,i as Ie,V as Ye,K as Xe,E as H}from"./index-DIlMAJ2O.js";import{j as f,aa as ke,p as N,az as Z,y as q,a2 as Je,ah as se,J as Fe,W as Ge,M as Ze,aG as qe,aH as Qe,E as k,s as et,a5 as tt,o as v,f as S,g as m,F as le,n as g,u as t,r as Y,b as F,c as I,w as L,N as X,a1 as re,a as at,V as ot,e as nt,ay as st,t as J,K as lt,ab as Ee}from"./app-CnNuEMmT.js";import{g as rt,u as it,m as ut,d as ct,c as dt}from"./use-global-config-BsByRpBn.js";import{u as pt}from"./el-popper-CuE4q0dM.js";import{U as ie,d as ze}from"./event-COqp9pWW.js";import{u as Pe,_ as ft,w as vt}from"./plugin-vue_export-helper-M7vFY8lq.js";import{u as mt,c as ht,a as yt,d as gt}from"./el-button--wi5tl2p.js";const bt=()=>Q&&/firefox/i.test(window.navigator.userAgent);function Ut(){if(!arguments.length)return[];var o=arguments[0];return je(o)?o:[o]}let G;const _t=o=>{var d;if(!Q)return 0;if(G!==void 0)return G;const n=document.createElement("div");n.className=`${o}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const a=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const u=s.offsetWidth;return(d=n.parentNode)==null||d.removeChild(n),G=a-u,G};function Yt(o,d){if(!Q)return;if(!d){o.scrollTop=0;return}const n=[];let a=d.offsetParent;for(;a!==null&&o!==a&&o.contains(a);)n.push(a),a=a.offsetParent;const s=d.offsetTop+n.reduce((p,b)=>p+b.offsetTop,0),u=s+d.offsetHeight,c=o.scrollTop,y=c+o.clientHeight;s<c?o.scrollTop=s:u>y&&(o.scrollTop=u-o.clientHeight)}const xt=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o),wt=["class","style"],St=/^on[A-Z]/,Ct=(o={})=>{const{excludeListeners:d=!1,excludeKeys:n}=o,a=f(()=>((n==null?void 0:n.value)||[]).concat(wt)),s=ke();return s?f(()=>{var u;return Ue(Object.entries((u=s.proxy)==null?void 0:u.$attrs).filter(([c])=>!a.value.includes(c)&&!(d&&St.test(c))))}):f(()=>({}))};function It(o){const d=N();function n(){if(o.value==null)return;const{selectionStart:s,selectionEnd:u,value:c}=o.value;if(s==null||u==null)return;const y=c.slice(0,Math.max(0,s)),p=c.slice(Math.max(0,u));d.value={selectionStart:s,selectionEnd:u,value:c,beforeTxt:y,afterTxt:p}}function a(){if(o.value==null||d.value==null)return;const{value:s}=o.value,{beforeTxt:u,afterTxt:c,selectionStart:y}=d.value;if(u==null||c==null||y==null)return;let p=s.length;if(s.endsWith(c))p=s.length-c.length;else if(s.startsWith(u))p=u.length;else{const b=u[y-1],w=s.indexOf(b,y-1);w!==-1&&(p=w+1)}o.value.setSelectionRange(p,p)}return[n,a]}function Et(o,{afterFocus:d,beforeBlur:n,afterBlur:a}={}){const s=ke(),{emit:u}=s,c=Z(),y=N(!1),p=i=>{y.value||(y.value=!0,u("focus",i),d==null||d())},b=i=>{var V;Je(n)&&n(i)||i.relatedTarget&&((V=c.value)!=null&&V.contains(i.relatedTarget))||(y.value=!1,u("blur",i),a==null||a())},w=()=>{var i;(i=o.value)==null||i.focus()};return q(c,i=>{i&&i.setAttribute("tabindex","-1")}),rt(c,"click",w),{wrapperRef:c,isFocused:y,handleFocus:p,handleBlur:b}}let x;const zt=`
  height:0 !important;
  visibility:hidden !important;
  ${bt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Pt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Tt(o){const d=window.getComputedStyle(o),n=d.getPropertyValue("box-sizing"),a=Number.parseFloat(d.getPropertyValue("padding-bottom"))+Number.parseFloat(d.getPropertyValue("padding-top")),s=Number.parseFloat(d.getPropertyValue("border-bottom-width"))+Number.parseFloat(d.getPropertyValue("border-top-width"));return{contextStyle:Pt.map(c=>`${c}:${d.getPropertyValue(c)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:n}}function Te(o,d=1,n){var a;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:s,borderSize:u,boxSizing:c,contextStyle:y}=Tt(o);x.setAttribute("style",`${y};${zt}`),x.value=o.value||o.placeholder||"";let p=x.scrollHeight;const b={};c==="border-box"?p=p+u:c==="content-box"&&(p=p-s),x.value="";const w=x.scrollHeight-s;if(Ce(d)){let i=w*d;c==="border-box"&&(i=i+s+u),p=Math.max(i,p),b.minHeight=`${i}px`}if(Ce(n)){let i=w*n;c==="border-box"&&(i=i+s+u),p=Math.min(i,p)}return b.height=`${p}px`,(a=x.parentNode)==null||a.removeChild(x),x=void 0,b}const kt=_e({id:{type:String,default:void 0},size:it,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ie},prefixIcon:{type:Ie},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>ut({})},autofocus:{type:Boolean,default:!1},...pt(["ariaLabel"])}),Ft={[ie]:o=>se(o),input:o=>se(o),change:o=>se(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Nt=["role"],Vt=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Bt=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Rt=Fe({name:"ElInput",inheritAttrs:!1}),$t=Fe({...Rt,props:kt,emits:Ft,setup(o,{expose:d,emit:n}){const a=o,s=Ge(),u=Ze(),c=f(()=>{const e={};return a.containerRole==="combobox"&&(e["aria-haspopup"]=s["aria-haspopup"],e["aria-owns"]=s["aria-owns"],e["aria-expanded"]=s["aria-expanded"]),e}),y=f(()=>[a.type==="textarea"?ce.b():r.b(),r.m(ue.value),r.is("disabled",z.value),r.is("exceed",Re.value),{[r.b("group")]:u.prepend||u.append,[r.m("prefix")]:u.prefix||a.prefixIcon,[r.m("suffix")]:u.suffix||a.suffixIcon||a.clearable||a.showPassword,[r.bm("suffix","password-clear")]:U.value&&te.value,[r.b("hidden")]:a.type==="hidden"},s.class]),p=f(()=>[r.e("wrapper"),r.is("focus",K.value)]),b=Ct({excludeKeys:f(()=>Object.keys(c.value))}),{form:w,formItem:i}=mt(),{inputId:V}=ht(a,{formItemContext:i}),ue=yt(),z=gt(),r=Pe("input"),ce=Pe("textarea"),M=Z(),C=Z(),ee=N(!1),B=N(!1),O=N(!1),de=N(),D=Z(a.inputStyle),P=f(()=>M.value||C.value),{wrapperRef:Ne,isFocused:K,handleFocus:W,handleBlur:j}=Et(P,{afterBlur(){var e;a.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"blur").catch(l=>ze()))}}),pe=f(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),R=f(()=>(i==null?void 0:i.validateState)||""),fe=f(()=>R.value&&Ye[R.value]),Ve=f(()=>O.value?qe:Qe),Be=f(()=>[s.style]),ve=f(()=>[a.inputStyle,D.value,{resize:a.resize}]),E=f(()=>Xe(a.modelValue)?"":String(a.modelValue)),U=f(()=>a.clearable&&!z.value&&!a.readonly&&!!E.value&&(K.value||ee.value)),te=f(()=>a.showPassword&&!z.value&&!a.readonly&&!!E.value&&(!!E.value||K.value)),T=f(()=>a.showWordLimit&&!!a.maxlength&&(a.type==="text"||a.type==="textarea")&&!z.value&&!a.readonly&&!a.showPassword),ae=f(()=>E.value.length),Re=f(()=>!!T.value&&ae.value>Number(a.maxlength)),$e=f(()=>!!u.suffix||!!a.suffixIcon||U.value||a.showPassword||T.value||!!R.value&&pe.value),[Ae,He]=It(M);ct(C,e=>{if(Le(),!T.value||a.resize!=="both")return;const l=e[0],{width:h}=l.contentRect;de.value={right:`calc(100% - ${h+15+6}px)`}});const $=()=>{const{type:e,autosize:l}=a;if(!(!Q||e!=="textarea"||!C.value))if(l){const h=Ee(l)?l.minRows:void 0,_=Ee(l)?l.maxRows:void 0,Se=Te(C.value,h,_);D.value={overflowY:"hidden",...Se},k(()=>{C.value.offsetHeight,D.value=Se})}else D.value={minHeight:Te(C.value).minHeight}},Le=(e=>{let l=!1;return()=>{var h;if(l||!a.autosize)return;((h=C.value)==null?void 0:h.offsetParent)===null||(e(),l=!0)}})($),A=()=>{const e=P.value,l=a.formatter?a.formatter(E.value):E.value;!e||e.value===l||(e.value=l)},oe=async e=>{Ae();let{value:l}=e.target;if(a.formatter&&(l=a.parser?a.parser(l):l),!B.value){if(l===E.value){A();return}n(ie,l),n("input",l),await k(),A(),He()}},me=e=>{n("change",e.target.value)},he=e=>{n("compositionstart",e),B.value=!0},ye=e=>{var l;n("compositionupdate",e);const h=(l=e.target)==null?void 0:l.value,_=h[h.length-1]||"";B.value=!xt(_)},ge=e=>{n("compositionend",e),B.value&&(B.value=!1,oe(e))},Me=()=>{O.value=!O.value,be()},be=async()=>{var e;await k(),(e=P.value)==null||e.focus()},Oe=()=>{var e;return(e=P.value)==null?void 0:e.blur()},De=e=>{ee.value=!1,n("mouseleave",e)},Ke=e=>{ee.value=!0,n("mouseenter",e)},xe=e=>{n("keydown",e)},We=()=>{var e;(e=P.value)==null||e.select()},we=()=>{n(ie,""),n("change",""),n("clear"),n("input","")};return q(()=>a.modelValue,()=>{var e;k(()=>$()),a.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"change").catch(l=>ze()))}),q(E,()=>A()),q(()=>a.type,async()=>{await k(),A(),$()}),et(()=>{!a.formatter&&a.parser,A(),k($)}),dt({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},f(()=>!!a.label)),d({input:M,textarea:C,ref:P,textareaStyle:ve,autosize:tt(a,"autosize"),focus:be,blur:Oe,select:We,clear:we,resizeTextarea:$}),(e,l)=>(v(),S("div",re(t(c),{class:[t(y),{[t(r).bm("group","append")]:e.$slots.append,[t(r).bm("group","prepend")]:e.$slots.prepend}],style:t(Be),role:e.containerRole,onMouseenter:Ke,onMouseleave:De}),[m(" input "),e.type!=="textarea"?(v(),S(le,{key:0},[m(" prepend slot "),e.$slots.prepend?(v(),S("div",{key:0,class:g(t(r).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):m("v-if",!0),F("div",{ref_key:"wrapperRef",ref:Ne,class:g(t(p))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(v(),S("span",{key:0,class:g(t(r).e("prefix"))},[F("span",{class:g(t(r).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(v(),I(t(H),{key:0,class:g(t(r).e("icon"))},{default:L(()=>[(v(),I(X(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),F("input",re({id:t(V),ref_key:"input",ref:M,class:t(r).e("inner")},t(b),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?O.value?"text":"password":e.type,disabled:t(z),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:ge,onInput:oe,onFocus:l[0]||(l[0]=(...h)=>t(W)&&t(W)(...h)),onBlur:l[1]||(l[1]=(...h)=>t(j)&&t(j)(...h)),onChange:me,onKeydown:xe}),null,16,Vt),m(" suffix slot "),t($e)?(v(),S("span",{key:1,class:g(t(r).e("suffix"))},[F("span",{class:g(t(r).e("suffix-inner"))},[!t(U)||!t(te)||!t(T)?(v(),S(le,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(v(),I(t(H),{key:0,class:g(t(r).e("icon"))},{default:L(()=>[(v(),I(X(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(U)?(v(),I(t(H),{key:1,class:g([t(r).e("icon"),t(r).e("clear")]),onMousedown:nt(t(st),["prevent"]),onClick:we},{default:L(()=>[at(t(ot))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(te)?(v(),I(t(H),{key:2,class:g([t(r).e("icon"),t(r).e("password")]),onClick:Me},{default:L(()=>[(v(),I(X(t(Ve))))]),_:1},8,["class"])):m("v-if",!0),t(T)?(v(),S("span",{key:3,class:g(t(r).e("count"))},[F("span",{class:g(t(r).e("count-inner"))},J(t(ae))+" / "+J(e.maxlength),3)],2)):m("v-if",!0),t(R)&&t(fe)&&t(pe)?(v(),I(t(H),{key:4,class:g([t(r).e("icon"),t(r).e("validateIcon"),t(r).is("loading",t(R)==="validating")])},{default:L(()=>[(v(),I(X(t(fe))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(v(),S("div",{key:1,class:g(t(r).be("group","append"))},[Y(e.$slots,"append")],2)):m("v-if",!0)],64)):(v(),S(le,{key:1},[m(" textarea "),F("textarea",re({id:t(V),ref_key:"textarea",ref:C,class:[t(ce).e("inner"),t(r).is("focus",t(K))]},t(b),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:t(z),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ve),"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:ge,onInput:oe,onFocus:l[2]||(l[2]=(...h)=>t(W)&&t(W)(...h)),onBlur:l[3]||(l[3]=(...h)=>t(j)&&t(j)(...h)),onChange:me,onKeydown:xe}),null,16,Bt),t(T)?(v(),S("span",{key:0,style:lt(de.value),class:g(t(r).e("count"))},J(t(ae))+" / "+J(e.maxlength),7)):m("v-if",!0)],64))],16,Nt))}});var At=ft($t,[["__file","input.vue"]]);const Xt=vt(At);export{Xt as E,Ut as c,_t as g,xt as i,Yt as s,Et as u};
